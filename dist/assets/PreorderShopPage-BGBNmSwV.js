const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProductCard-BlsNr6fx.js","assets/index-prnh0kJO.js","assets/index-BnOa1r69.css","assets/clock-B6wggCtW.js","assets/heart-BxFP3jNI.js","assets/eye-GbwtL3Bc.js","assets/award-CCoPQd6g.js"])))=>i.map(i=>d[i]);
import{u as k,r as t,b as j,a as R,j as e,m as l,S as _,f as T,_ as C,c as S}from"./index-prnh0kJO.js";import{A as M}from"./award-CCoPQd6g.js";import{C as D}from"./clock-B6wggCtW.js";const v=t.lazy(()=>C(()=>import("./ProductCard-BlsNr6fx.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),b=768,h=1024,O=8,A=16,L=200,z="200px",B=(()=>{const s=new Map,i=100;return r=>{if(typeof r!="string")return"";if(s.has(r))return s.get(r);const a=r.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").trim().slice(0,100);if(s.size>=i){const d=s.keys().next().value;s.delete(d)}return s.set(r,a),a}})(),K=()=>{const[s,i]=t.useState(()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0};const a=window.innerWidth;return{isMobile:a<b,isTablet:a>=b&&a<h,isDesktop:a>=h}}),r=t.useRef(null);return t.useEffect(()=>{const a=()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{const d=window.innerWidth,o={isMobile:d<b,isTablet:d>=b&&d<h,isDesktop:d>=h};i(x=>x.isMobile!==o.isMobile||x.isTablet!==o.isTablet||x.isDesktop!==o.isDesktop?o:x)},L)};return window.addEventListener("resize",a,{passive:!0}),()=>{window.removeEventListener("resize",a),r.current&&clearTimeout(r.current)}},[]),s},G=t.memo(()=>j()?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-32 -left-32 w-80 h-80 bg-gradient-to-br from-warning/15 to-accent/8 rounded-full blur-3xl opacity-60"}),e.jsx("div",{className:"absolute top-1/3 -right-24 w-72 h-72 bg-gradient-to-br from-accent/12 to-secondary/8 rounded-full blur-3xl opacity-60"}),e.jsx("div",{className:"absolute -bottom-40 left-1/4 w-96 h-96 bg-gradient-to-br from-secondary/8 to-warning/8 rounded-full blur-3xl opacity-60"})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.div,{animate:{x:[0,40,0],y:[0,-20,0]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute -top-32 -left-32 w-80 h-80 bg-gradient-to-br from-warning/15 to-accent/8 rounded-full blur-3xl",style:{willChange:"transform"}}),e.jsx(l.div,{animate:{x:[0,-30,0],y:[0,25,0]},transition:{duration:35,repeat:1/0,ease:"linear",delay:10},className:"absolute top-1/3 -right-24 w-72 h-72 bg-gradient-to-br from-accent/12 to-secondary/8 rounded-full blur-3xl",style:{willChange:"transform"}}),e.jsx(l.div,{animate:{x:[0,25,0],y:[0,-15,0]},transition:{duration:40,repeat:1/0,ease:"linear",delay:20},className:"absolute -bottom-40 left-1/4 w-96 h-96 bg-gradient-to-br from-secondary/8 to-warning/8 rounded-full blur-3xl",style:{willChange:"transform"}})]})),F=t.memo(()=>{const s=j();return e.jsx("section",{className:"relative pt-20 pb-8 px-4 sm:px-6 lg:px-8",children:e.jsxs(l.div,{initial:s?{opacity:1}:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"max-w-6xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-2 rounded-full bg-warning/10 border border-warning/20 backdrop-blur-xl",children:[e.jsx(D,{className:"w-4 h-4 text-warning"}),e.jsx("span",{className:"text-xs font-medium text-warning uppercase tracking-wider",children:"Limited Preorder"})]}),e.jsxs("h1",{className:"font-heading text-4xl sm:text-5xl lg:text-7xl tracking-tight mb-4",children:[e.jsx("span",{className:"bg-gradient-to-r from-warning via-accent to-secondary bg-clip-text text-transparent",children:"PREORDER"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-foreground via-accent to-secondary bg-clip-text text-transparent",children:"COLLECTION"})]}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-md mx-auto mb-6 leading-relaxed",children:"Be the first to own exclusive pieces. Secure your spot before production begins."}),e.jsxs(l.div,{initial:s?{scale:1}:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.3},className:"flex justify-center items-center gap-2",children:[[...Array(5)].map((i,r)=>e.jsx(S,{className:"w-4 h-4 text-warning fill-warning"},r)),e.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"Exclusive Access"})]})]})})}),H=t.memo(({itemCount:s,gridClasses:i})=>e.jsx("div",{className:i,children:Array.from({length:s},(r,a)=>e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"aspect-[4/5] bg-muted/20 rounded-2xl animate-pulse"}),children:e.jsx(v,{loading:!0,index:a})},`skeleton-${a}`))}));function Z(){const s=k(),[i,r]=t.useState(1),[a,d]=t.useState(""),[o,x]=t.useState(!0),g=t.useRef(null),y=K(),N=j(),{items:u,pagination:f,status:c,error:E}=R(n=>n.products),p=t.useMemo(()=>{const{isMobile:n,isTablet:m}=y;return{itemsPerPage:n?O:A,gridClasses:n?"grid grid-cols-2 gap-4":m?"grid grid-cols-3 gap-5":"grid grid-cols-4 gap-6",skeletonCount:n?6:m?9:12}},[y]);t.useEffect(()=>{(()=>{t.startTransition(()=>{s(T({page:i,limit:p.itemsPerPage,search:B(a)}))})})(),o&&x(!1)},[s,i,a,p.itemsPerPage,o]);const w=t.useCallback(n=>{c!=="loading"&&(g.current&&g.current.disconnect(),g.current=new IntersectionObserver(m=>{m[0].isIntersecting&&f?.currentPage<f?.totalPages&&c==="succeeded"&&t.startTransition(()=>{r(I=>I+1)})},{threshold:.1,rootMargin:z}),n&&g.current.observe(n))},[c,f]);t.useEffect(()=>()=>{g.current&&g.current.disconnect()},[]);const P=t.useMemo(()=>u?.length?u.map((n,m)=>e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"aspect-[4/5] bg-muted/20 rounded-2xl animate-pulse"}),children:e.jsx(v,{product:n,index:m,isPreorder:!0,ref:m===u.length-1?w:null})},n._id)):[],[u,w]);return E?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-heading mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please try refreshing the page"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Refresh Page"})]})}):e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-background via-background to-card/20 text-foreground overflow-hidden",children:[e.jsx(G,{}),e.jsx(F,{}),e.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-warning/10 to-accent/10 backdrop-blur-md border border-warning/20 rounded-full",children:[e.jsx(M,{className:"w-4 h-4 text-warning"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Preorder now for exclusive early access â€¢ VA Payment Only"})]})}),c==="loading"&&o&&e.jsx(H,{itemCount:p.skeletonCount,gridClasses:p.gridClasses}),c!=="loading"&&u?.length>0&&e.jsx(l.div,{className:p.gridClasses,initial:N?{}:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:P}),c==="succeeded"&&u?.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h3",{className:"text-xl font-heading mb-2",children:"No preorder items available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back soon for new exclusive drops"})]}),c==="loading"&&!o&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading more products..."})]})}),c==="succeeded"&&f?.currentPage>=f?.totalPages&&u?.length>0&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center mt-16 mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-card/50 to-card/30 backdrop-blur-md border border-border/40 rounded-full",children:[e.jsx(_,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"You've explored our complete preorder collection"})]})})]})})]})}export{Z as default};
