import{e as j,u as N,a as w,b as k,r as z,j as e,m as t,A as C,X as q,L as r,B as h,p as M,q as R,n as S}from"./index-BAkzQYrJ.js";import{H as I}from"./Helmet-Dk38hzZR.js";import{M as D,P as H}from"./plus-GtrdvqZT.js";import{A as f}from"./arrow-right-BFwfJnZH.js";import{S as P}from"./shopping-cart-p5_4aodn.js";import"./index-C5NjiLNn.js";const $=j("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]),E=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),T={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"}},o=a=>`Rp ${Number(a||0).toLocaleString("id-ID")}`,u=({icon:a,onClick:i,label:n,className:d="",disabled:x})=>e.jsx(h,{type:"button",variant:"ghost",size:"icon","aria-label":n,title:n,onClick:i,disabled:x,className:`h-9 w-9 sm:h-10 sm:w-10 rounded-full transition-all duration-320 hover:scale-110 active:scale-95 focus-visible:ring-2 focus-visible:ring-accent ${d}`,children:e.jsx(a,{size:18,"aria-hidden":"true"})}),O=()=>{const a=N(),{cartItems:i}=w(s=>s.cart),n=k(),{subtotal:d,shipping:x,total:g}=z.useMemo(()=>{const s=i.reduce((p,c)=>p+c.price*c.quantity,0),l=i.length>0?4e3:0;return{subtotal:s,shipping:l,total:s+l}},[i]),m=s=>a(M(s)),y=s=>a(S({product:{...s,size:s.size},quantity:1})),b=s=>a(R(s)),v={hidden:{opacity:0,y:30},show:(s=1)=>({opacity:1,y:0,transition:{delay:n?0:s*.04,type:"spring",stiffness:220,damping:22}}),exit:{opacity:0,y:30,transition:{duration:.2}}};return e.jsxs(t.div,{initial:"initial",animate:"animate",exit:"exit",variants:T,className:"relative min-h-screen pt-24 pb-28 text-foreground",children:[e.jsx(I,{children:e.jsx("title",{children:"Cart â€” Neo Dervish"})}),e.jsx(t.div,{className:"absolute -top-24 -left-20 w-72 h-72 bg-accent/25 rounded-full blur-3xl"}),e.jsx(t.div,{className:"absolute -bottom-28 -right-20 w-96 h-96 bg-secondary/30 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-4 sm:px-6",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-heading font-semibold",children:"Your Cart"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Refine your picks. Smooth checkout awaits."})]}),i.length>0?e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-10",children:[e.jsx("div",{className:"xl:col-span-2 space-y-5 sm:space-y-6",children:e.jsx(C,{initial:!1,children:i.map((s,l)=>e.jsx(t.div,{custom:l,initial:"hidden",animate:"show",exit:"exit",variants:v,children:e.jsxs(t.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:(p,c)=>{c.offset.x<-120&&m(s)},className:"relative flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6 glass-card p-5 sm:p-6",children:[e.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 sm:hidden flex items-center gap-1 text-[11px] text-muted-foreground",children:[e.jsx($,{size:14})," swipe to remove"]}),e.jsx("button",{onClick:()=>m(s),"aria-label":"Remove item",className:"hidden sm:block absolute top-3 right-3 rounded-full p-2 text-muted-foreground hover:text-error transition duration-320",children:e.jsx(q,{size:18})}),e.jsx(r,{to:`/product/${s.slug}`,className:"shrink-0 mx-auto sm:mx-0",children:e.jsx(t.img,{src:s.images?.[0]?.url||"https://via.placeholder.com/128",alt:s.name,className:"h-28 w-28 sm:h-32 sm:w-32 object-cover rounded-2xl",whileHover:n?{}:{scale:1.03},transition:{duration:.25},loading:"lazy"})}),e.jsxs("div",{className:"flex w-full flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx(r,{to:`/product/${s.slug}`,children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold hover:text-foreground transition duration-320",children:s.name})}),e.jsxs("div",{className:"mt-1 flex items-center justify-center sm:justify-start gap-2",children:[e.jsxs("span",{className:"text-[11px] px-2 py-1 rounded-full border border-border bg-muted text-muted-foreground",children:["Size ",s.size||"-"]}),e.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full border border-border bg-card text-foreground/70",children:o(s.price)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"mx-auto sm:mx-0 flex items-center gap-2 rounded-full px-3 py-1.5 bg-card border border-border backdrop-blur-sm",children:[e.jsx(u,{icon:D,onClick:()=>b(s),label:"Decrease quantity"}),e.jsx("span",{className:"w-8 text-center text-sm font-bold",children:s.quantity}),e.jsx(u,{icon:H,onClick:()=>y(s),label:"Increase quantity"})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-3",children:[e.jsx("p",{className:"text-lg font-bold",children:o(s.price*s.quantity)}),e.jsx(u,{icon:E,onClick:()=>m(s),label:"Remove item",className:"hidden sm:flex text-muted-foreground hover:text-error"})]})]})]})]})},`${s._id}-${s.size}`))})}),e.jsx(t.aside,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},className:"xl:sticky xl:top-24 self-start",children:e.jsxs("div",{className:"glass-card p-6 sm:p-7 space-y-5",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-heading font-semibold",children:"Summary"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-mono",children:o(d)})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"font-mono",children:o(x)})]}),e.jsx("div",{className:"h-px bg-border my-1"}),e.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"font-mono text-accent",children:o(g)})]})]}),e.jsx(h,{asChild:!0,size:"lg",className:"w-full rounded-full font-bold btn-primary transition duration-320",children:e.jsxs(r,{to:"/checkout",className:"flex items-center justify-center",children:["Checkout ",e.jsx(f,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{to:"/shop",className:"block text-center text-xs text-muted-foreground hover:text-foreground transition duration-320",children:"or keep shopping"})]})})]}):e.jsxs(t.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35},className:"mx-auto max-w-md text-center",children:[e.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center glass-card",children:e.jsx(P,{size:36,className:"text-muted-foreground"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-heading font-semibold",children:"Cart is empty"}),e.jsx("p",{className:"mt-2 text-muted-foreground text-sm",children:"Pick your favorites. Premium awaits."}),e.jsx(h,{asChild:!0,size:"lg",className:"mt-6 rounded-full font-bold btn-accent",children:e.jsxs(r,{to:"/shop",children:["Browse Collection ",e.jsx(f,{className:"ml-2 h-4 w-4"})]})})]})]})]})};export{O as default};
