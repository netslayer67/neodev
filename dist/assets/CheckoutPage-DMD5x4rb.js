import{e as Te,R as S,r as i,t as Ot,v as Z,i as qe,j as s,m as H,I as z,w as He,A as ce,B as $e,u as Rt,h as Dt,a as be,x as Mt,y as Ge,z as Be}from"./index-Did2w4eF.js";import{H as It}from"./Helmet-Bwbmk-PG.js";import{L as Je}from"./label-CY80l6UP.js";import{A as Ht}from"./alert-circle-Dwx6K2mH.js";import{T as je}from"./truck-6gF6cxw5.js";import{C as Xe}from"./check-circle-EW3caFjK.js";import{C as Ve}from"./credit-card-Cpmr9XI2.js";import{L as _e}from"./lock-BU1jvqm7.js";import"./index-Dv127vUn.js";const Gt=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Bt=Te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Vt=Te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qe=typeof document<"u"?S.useLayoutEffect:()=>{};function _t(e){const t=i.useRef(null);return Qe(()=>{t.current=e},[e]),i.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const B=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},K=e=>e&&"window"in e&&e.window===e?e:B(e).defaultView||window;function Kt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Wt(e){return Kt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let zt=!1;function Fe(){return zt}function Ye(e,t){if(!Fe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:Wt(r)?r=r.host:r=r.parentNode}return!1}const Ee=(e=document)=>{var t;if(!Fe())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function Ze(e){return Fe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Ut(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function qt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function et(e){let t=null;return()=>(t==null&&(t=e()),t)}const Jt=et(function(){return qt(/^Mac/i)}),Xt=et(function(){return Ut(/Android/i)});function tt(){let e=i.useRef(new Map),t=i.useCallback((a,o,c,l)=>{let d=l?.once?(...f)=>{e.current.delete(c),c(...f)}:c;e.current.set(c,{type:o,eventTarget:a,fn:d,options:l}),a.addEventListener(o,d,l)},[]),r=i.useCallback((a,o,c,l)=>{var d;let f=((d=e.current.get(c))===null||d===void 0?void 0:d.fn)||c;a.removeEventListener(o,f,l),e.current.delete(c)},[]),n=i.useCallback(()=>{e.current.forEach((a,o)=>{r(a.eventTarget,a.type,o,a.options)})},[r]);return i.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Qt(e){return e.mozInputSource===0&&e.isTrusted?!0:Xt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function rt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Yt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function nt(e){let t=i.useRef({isFocused:!1,observer:null});Qe(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=_t(n=>{e?.(n)});return i.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,o=c=>{if(t.current.isFocused=!1,a.disabled){let l=rt(c);r(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let l=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let Zt=!1,ae=null,we=new Set,ne=new Map,W=!1,Ne=!1;const er={Tab:!0,Escape:!0};function Pe(e,t){for(let r of we)r(e,t)}function tr(e){return!(e.metaKey||!Jt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ue(e){W=!0,tr(e)&&(ae="keyboard",Pe("keyboard",e))}function U(e){ae="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(W=!0,Pe("pointer",e))}function at(e){Qt(e)&&(W=!0,ae="virtual")}function st(e){e.target===window||e.target===document||Zt||!e.isTrusted||(!W&&!Ne&&(ae="virtual",Pe("virtual",e)),W=!1,Ne=!1)}function it(){W=!1,Ne=!0}function ke(e){if(typeof window>"u"||typeof document>"u"||ne.get(K(e)))return;const t=K(e),r=B(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){W=!0,n.apply(this,arguments)},r.addEventListener("keydown",ue,!0),r.addEventListener("keyup",ue,!0),r.addEventListener("click",at,!0),t.addEventListener("focus",st,!0),t.addEventListener("blur",it,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",U,!0),r.addEventListener("pointermove",U,!0),r.addEventListener("pointerup",U,!0)),t.addEventListener("beforeunload",()=>{ot(e)},{once:!0}),ne.set(t,{focus:n})}const ot=(e,t)=>{const r=K(e),n=B(e);t&&n.removeEventListener("DOMContentLoaded",t),ne.has(r)&&(r.HTMLElement.prototype.focus=ne.get(r).focus,n.removeEventListener("keydown",ue,!0),n.removeEventListener("keyup",ue,!0),n.removeEventListener("click",at,!0),r.removeEventListener("focus",st,!0),r.removeEventListener("blur",it,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",U,!0),n.removeEventListener("pointermove",U,!0),n.removeEventListener("pointerup",U,!0)),ne.delete(r))};function rr(e){const t=B(e);let r;return t.readyState!=="loading"?ke(e):(r=()=>{ke(e)},t.addEventListener("DOMContentLoaded",r)),()=>ot(e,r)}typeof document<"u"&&rr();function lt(){return ae!=="pointer"}const nr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ar(e,t,r){let n=B(r?.target);const a=typeof window<"u"?K(r?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?K(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?K(r?.target).HTMLElement:HTMLElement,l=typeof window<"u"?K(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!nr.has(n.activeElement.type)||n.activeElement instanceof o||n.activeElement instanceof c&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof l&&!er[r.key])}function sr(e,t,r){ke(),i.useEffect(()=>{let n=(a,o)=>{ar(!!r?.isTextInput,a,o)&&e(lt())};return we.add(n),()=>{we.delete(n)}},t)}function ir(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const o=i.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),c=nt(o),l=i.useCallback(d=>{const f=B(d.target),h=f?Ee(f):Ee();d.target===d.currentTarget&&h===Ze(d.nativeEvent)&&(r&&r(d),a&&a(!0),c(d))},[a,r,c]);return{focusProps:{onFocus:!t&&(r||a||n)?l:void 0,onBlur:!t&&(n||a)?o:void 0}}}function or(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,o=i.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:l}=tt(),d=i.useCallback(u=>{u.currentTarget.contains(u.target)&&o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,l(),r&&r(u),a&&a(!1))},[r,a,o,l]),f=nt(d),h=i.useCallback(u=>{if(!u.currentTarget.contains(u.target))return;const x=B(u.target),g=Ee(x);if(!o.current.isFocusWithin&&g===Ze(u.nativeEvent)){n&&n(u),a&&a(!0),o.current.isFocusWithin=!0,f(u);let y=u.currentTarget;c(x,"focus",p=>{if(o.current.isFocusWithin&&!Ye(y,p.target)){let $=new x.defaultView.FocusEvent("blur",{relatedTarget:p.target});Yt($,y);let b=rt($);d(b)}},{capture:!0})}},[n,a,f,c,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:d}}}let Se=!1,ve=0;function lr(){Se=!0,setTimeout(()=>{Se=!1},50)}function Ke(e){e.pointerType==="touch"&&lr()}function cr(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Ke),ve++,()=>{ve--,!(ve>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Ke)}}function ct(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[o,c]=i.useState(!1),l=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(cr,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=tt(),{hoverProps:h,triggerHoverEnd:u}=i.useMemo(()=>{let x=(p,$)=>{if(l.pointerType=$,a||$==="touch"||l.isHovered||!p.currentTarget.contains(p.target))return;l.isHovered=!0;let b=p.currentTarget;l.target=b,d(B(p.target),"pointerover",E=>{l.isHovered&&l.target&&!Ye(l.target,E.target)&&g(E,E.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:$}),r&&r(!0),c(!0)},g=(p,$)=>{let b=l.target;l.pointerType="",l.target=null,!($==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,f(),n&&n({type:"hoverend",target:b,pointerType:$}),r&&r(!1),c(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=p=>{Se&&p.pointerType==="mouse"||x(p,p.pointerType)},y.onPointerLeave=p=>{!a&&p.currentTarget.contains(p.target)&&g(p,p.pointerType)}),{hoverProps:y,triggerHoverEnd:g}},[t,r,n,a,l,d,f]);return i.useEffect(()=>{a&&u({currentTarget:l.target},l.pointerType)},[a]),{hoverProps:h,isHovered:o}}function dt(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=i.useRef({isFocused:!1,isFocusVisible:t||lt()}),[o,c]=i.useState(!1),[l,d]=i.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=i.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),h=i.useCallback(g=>{a.current.isFocused=g,c(g),f()},[f]);sr(g=>{a.current.isFocusVisible=g,f()},[],{isTextInput:r});let{focusProps:u}=ir({isDisabled:n,onFocusChange:h}),{focusWithinProps:x}=or({isDisabled:!n,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:l,focusProps:n?x:u}}var dr=Object.defineProperty,ur=(e,t,r)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xe=(e,t,r)=>(ur(e,typeof t!="symbol"?t+"":t,r),r);let fr=class{constructor(){xe(this,"current",this.detect()),xe(this,"handoffState","pending"),xe(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ut=new fr;function mr(e){var t,r;return ut.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function pr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ft(){let e=[],t={addEventListener(r,n,a,o){return r.addEventListener(n,a,o),t.add(()=>r.removeEventListener(n,a,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return pr(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=ft();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function hr(){let[e]=i.useState(ft);return i.useEffect(()=>()=>e.dispose(),[e]),e}let se=(e,t)=>{ut.isServer?i.useEffect(e,t):i.useLayoutEffect(e,t)};function Le(e){let t=i.useRef(e);return se(()=>{t.current=e},[e]),t}let M=function(e){let t=Le(e);return S.useCallback((...r)=>t.current(...r),[t])},gr=i.createContext(void 0);function me(){return i.useContext(gr)}function We(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ae(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ae),n}var br=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(br||{}),vr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(vr||{});function q(){let e=yr();return i.useCallback(t=>xr({mergeRefs:e,...t}),[e])}function xr({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:o=!0,name:c,mergeRefs:l}){l=l??$r;let d=mt(t,e);if(o)return de(d,r,n,c,l);let f=a??0;if(f&2){let{static:h=!1,...u}=d;if(h)return de(u,r,n,c,l)}if(f&1){let{unmount:h=!0,...u}=d;return Ae(h?0:1,{0(){return null},1(){return de({...u,hidden:!0,style:{display:"none"}},r,n,c,l)}})}return de(d,r,n,c,l)}function de(e,t={},r,n,a){let{as:o=r,children:c,refName:l="ref",...d}=ye(e,["unmount","static"]),f=e.ref!==void 0?{[l]:e.ref}:{},h=typeof c=="function"?c(t):c;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let u={};if(t){let x=!1,g=[];for(let[y,p]of Object.entries(t))typeof p=="boolean"&&(x=!0),p===!0&&g.push(y.replace(/([A-Z])/g,$=>`-${$.toLowerCase()}`));if(x){u["data-headlessui-state"]=g.join(" ");for(let y of g)u[`data-${y}`]=""}}if(o===i.Fragment&&(Object.keys(V(d)).length>0||Object.keys(V(u)).length>0))if(!i.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(V(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(V(d)).concat(Object.keys(V(u))).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`))}else{let x=h.props,g=x?.className,y=typeof g=="function"?(...b)=>We(g(...b),d.className):We(g,d.className),p=y?{className:y}:{},$=mt(h.props,V(ye(d,["ref"])));for(let b in u)b in $&&delete u[b];return i.cloneElement(h,Object.assign({},$,u,f,{ref:a(jr(h),f.ref)},p))}return i.createElement(o,Object.assign({},ye(d,["ref"]),o!==i.Fragment&&f,o!==i.Fragment&&u),h)}function yr(){let e=i.useRef([]),t=i.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function $r(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function mt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var o;return(o=a?.preventDefault)==null?void 0:o.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...o){let c=r[n];for(let l of c){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;l(a,...o)}}});return t}function pt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let o=r[n];for(let c of o)c?.(...a)}});return t}function J(e){var t;return Object.assign(i.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function V(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function ye(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function jr(e){return S.version.split(".")[0]>="19"?e.props.ref:e.ref}function Er(e,t,r){let[n,a]=i.useState(r),o=e!==void 0,c=i.useRef(o),l=i.useRef(!1),d=i.useRef(!1);return o&&!c.current&&!l.current?(l.current=!0,c.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&c.current&&!d.current&&(d.current=!0,c.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:n,M(f=>(o||a(f),t?.(f)))]}function wr(e){let[t]=i.useState(e);return t}function ht(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))bt(r,gt(t,n),a);return r}function gt(e,t){return e?e+"["+t+"]":t}function bt(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())bt(e,gt(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):ht(r,t,e)}function Nr(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}let kr="span";var Oe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Oe||{});function Sr(e,t){var r;let{features:n=1,...a}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return q()({ourProps:o,theirProps:a,slot:{},defaultTag:kr,name:"Hidden"})}let vt=J(Sr),Cr=i.createContext(null);function Tr({children:e}){let t=i.useContext(Cr);if(!t)return S.createElement(S.Fragment,null,e);let{target:r}=t;return r?Ot.createPortal(S.createElement(S.Fragment,null,e),r):null}function Fr({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[o,c]=i.useState(null),l=hr();return i.useEffect(()=>{if(n&&o)return l.addEventListener(o,"reset",n)},[o,t,n]),S.createElement(Tr,null,S.createElement(Pr,{setForm:c,formId:t}),ht(e).map(([d,f])=>S.createElement(vt,{features:Oe.Hidden,...V({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Pr({setForm:e,formId:t}){return i.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:S.createElement(vt,{features:Oe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Lr=i.createContext(void 0);function xt(){return i.useContext(Lr)}function Ar(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function yt(e){return Ar(e)&&"tagName"in e}function pe(e){return yt(e)&&"accessKey"in e}function Or(e){return pe(e)&&e.nodeName==="INPUT"}function ze(e){return pe(e)&&e.nodeName==="LABEL"}function Rr(e){return pe(e)&&e.nodeName==="FIELDSET"}function $t(e){return pe(e)&&e.nodeName==="LEGEND"}function Dr(e){return yt(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function jt(e){let t=e.parentElement,r=null;for(;t&&!Rr(t);)$t(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Mr(r)?!1:n}function Mr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if($t(t))return!1;t=t.previousElementSibling}return!0}let Ir=Symbol();function ie(...e){let t=i.useRef(e);i.useEffect(()=>{t.current=e},[e]);let r=M(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[Ir])?void 0:r}let he=i.createContext(null);he.displayName="DescriptionContext";function Et(){let e=i.useContext(he);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Et),t}return e}function Hr(){var e,t;return(t=(e=i.useContext(he))==null?void 0:e.value)!=null?t:void 0}function wt(){let[e,t]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(r){let n=M(o=>(t(c=>[...c,o]),()=>t(c=>{let l=c.slice(),d=l.indexOf(o);return d!==-1&&l.splice(d,1),l}))),a=i.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return S.createElement(he.Provider,{value:a},r.children)},[t])]}let Gr="p";function Br(e,t){let r=i.useId(),n=me(),{id:a=`headlessui-description-${r}`,...o}=e,c=Et(),l=ie(t);se(()=>c.register(a),[a,c.register]);let d=n||!1,f=i.useMemo(()=>({...c.slot,disabled:d}),[c.slot,d]),h={ref:l,...c.props,id:a};return q()({ourProps:h,theirProps:o,slot:f,defaultTag:Gr,name:c.name||"Description"})}let Vr=J(Br),_r=Object.assign(Vr,{});var _=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(_||{});let ge=i.createContext(null);ge.displayName="LabelContext";function Nt(){let e=i.useContext(ge);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Nt),t}return e}function kt(e){var t,r,n;let a=(r=(t=i.useContext(ge))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function St({inherit:e=!1}={}){let t=kt(),[r,n]=i.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,i.useMemo(()=>function(o){let c=M(d=>(n(f=>[...f,d]),()=>n(f=>{let h=f.slice(),u=h.indexOf(d);return u!==-1&&h.splice(u,1),h}))),l=i.useMemo(()=>({register:c,slot:o.slot,name:o.name,props:o.props,value:o.value}),[c,o.slot,o.name,o.props,o.value]);return S.createElement(ge.Provider,{value:l},o.children)},[n])]}let Kr="label";function Wr(e,t){var r;let n=i.useId(),a=Nt(),o=xt(),c=me(),{id:l=`headlessui-label-${n}`,htmlFor:d=o??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...h}=e,u=ie(t);se(()=>a.register(l),[l,a.register]);let x=M($=>{let b=$.currentTarget;if(!($.target!==$.currentTarget&&Dr($.target))&&(ze(b)&&$.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick($),ze(b))){let E=document.getElementById(b.htmlFor);if(E){let A=E.getAttribute("disabled");if(A==="true"||A==="")return;let v=E.getAttribute("aria-disabled");if(v==="true"||v==="")return;(Or(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),g=c||!1,y=i.useMemo(()=>({...a.slot,disabled:g}),[a.slot,g]),p={ref:u,...a.props,id:l,htmlFor:d,onClick:x};return f&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in h&&delete h.onClick),q()({ourProps:p,theirProps:h,slot:y,defaultTag:d?Kr:"div",name:a.name||"Label"})}let zr=J(Wr),Ur=Object.assign(zr,{});function qr(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Jr(e=qr){return i.useCallback((t,r)=>{if(typeof e=="string"){let n=e;return t?.[n]===r?.[n]}return e(t,r)},[e])}let Xr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Qr=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var re=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(re||{}),Ce=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ce||{}),Yr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Yr||{});function Zr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xr)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function en(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qr)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var tn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(tn||{}),rn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(rn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let nn=["textarea","input"].join(",");function an(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,nn))!=null?r:!1}function Ct(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),o=t(n);if(a===null||o===null)return 0;let c=a.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ue(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?r?Ct(e):e:t&64?en(e):Zr(e);a.length>0&&c.length>1&&(c=c.filter(g=>!a.some(y=>y!=null&&"current"in y?y?.current===g:y===g))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(n))-1;if(t&4)return Math.max(0,c.indexOf(n))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,u=c.length,x;do{if(h>=u||h+u<=0)return 0;let g=d+h;if(t&16)g=(g+u)%u;else{if(g<0)return 3;if(g>=u)return 1}x=c[g],x?.focus(f),h+=l}while(x!==o.activeElement);return t&6&&an(x)&&x.select(),2}var sn=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(sn||{});let on={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Ct(r,n=>n.element.current)}},1(e,t){let r=e.options.slice(),n=e.options.findIndex(a=>a.id===t.id);return n===-1?e:(r.splice(n,1),{...e,options:r})}},Re=i.createContext(null);Re.displayName="RadioGroupDataContext";function De(e){let t=i.useContext(Re);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,De),r}return t}let Me=i.createContext(null);Me.displayName="RadioGroupActionsContext";function Ie(e){let t=i.useContext(Me);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ie),r}return t}function ln(e,t){return Ae(t.type,on,e,t)}let cn="div";function dn(e,t){let r=i.useId(),n=me(),{id:a=`headlessui-radiogroup-${r}`,value:o,form:c,name:l,onChange:d,by:f,disabled:h=n||!1,defaultValue:u,tabIndex:x=0,...g}=e,y=Jr(f),[p,$]=i.useReducer(ln,{options:[]}),b=p.options,[E,A]=St(),[v,F]=wt(),w=i.useRef(null),P=ie(w,t),k=wr(u),[T,R]=Er(o,d,k),D=i.useMemo(()=>b.find(C=>!C.propsRef.current.disabled),[b]),m=i.useMemo(()=>b.some(C=>y(C.propsRef.current.value,T)),[b,T]),j=M(C=>{var Q;if(h||y(C,T))return!1;let I=(Q=b.find(le=>y(le.propsRef.current.value,C)))==null?void 0:Q.propsRef.current;return I!=null&&I.disabled?!1:(R?.(C),!0)}),N=M(C=>{let Q=w.current;if(!Q)return;let I=mr(Q),le=b.filter(O=>O.propsRef.current.disabled===!1).map(O=>O.element.current);switch(C.key){case _.Enter:Nr(C.currentTarget);break;case _.ArrowLeft:case _.ArrowUp:if(C.preventDefault(),C.stopPropagation(),Ue(le,re.Previous|re.WrapAround)===Ce.Success){let O=b.find(Y=>Y.element.current===I?.activeElement);O&&j(O.propsRef.current.value)}break;case _.ArrowRight:case _.ArrowDown:if(C.preventDefault(),C.stopPropagation(),Ue(le,re.Next|re.WrapAround)===Ce.Success){let O=b.find(Y=>Y.element.current===I?.activeElement);O&&j(O.propsRef.current.value)}break;case _.Space:{C.preventDefault(),C.stopPropagation();let O=b.find(Y=>Y.element.current===I?.activeElement);O&&j(O.propsRef.current.value)}break}}),G=M(C=>($({type:0,...C}),()=>$({type:1,id:C.id}))),X=i.useMemo(()=>({value:T,firstOption:D,containsCheckedOption:m,disabled:h,compare:y,tabIndex:x,...p}),[T,D,m,h,y,x,p]),oe=i.useMemo(()=>({registerOption:G,change:j}),[G,j]),Ft={ref:P,id:a,role:"radiogroup","aria-labelledby":E,"aria-describedby":v,onKeyDown:N},Pt=i.useMemo(()=>({value:T}),[T]),Lt=i.useCallback(()=>{if(k!==void 0)return j(k)},[j,k]),At=q();return S.createElement(F,{name:"RadioGroup.Description"},S.createElement(A,{name:"RadioGroup.Label"},S.createElement(Me.Provider,{value:oe},S.createElement(Re.Provider,{value:X},l!=null&&S.createElement(Fr,{disabled:h,data:{[l]:T||"on"},overrides:{type:"radio",checked:T!=null},form:c,onReset:Lt}),At({ourProps:Ft,theirProps:g,slot:Pt,defaultTag:cn,name:"RadioGroup"})))))}let un="div";function fn(e,t){var r;let n=De("RadioGroup.Option"),a=Ie("RadioGroup.Option"),o=i.useId(),{id:c=`headlessui-radiogroup-option-${o}`,value:l,disabled:d=n.disabled||!1,autoFocus:f=!1,...h}=e,u=i.useRef(null),x=ie(u,t),[g,y]=St(),[p,$]=wt(),b=Le({value:l,disabled:d});se(()=>a.registerOption({id:c,element:u,propsRef:b}),[c,a,u,b]);let E=M(m=>{var j;if(jt(m.currentTarget))return m.preventDefault();a.change(l)&&((j=u.current)==null||j.focus())}),A=((r=n.firstOption)==null?void 0:r.id)===c,{isFocusVisible:v,focusProps:F}=dt({autoFocus:f}),{isHovered:w,hoverProps:P}=ct({isDisabled:d}),k=n.compare(n.value,l),T=pt({ref:x,id:c,role:"radio","aria-checked":k?"true":"false","aria-labelledby":g,"aria-describedby":p,"aria-disabled":d?!0:void 0,tabIndex:d?-1:k||!n.containsCheckedOption&&A?n.tabIndex:-1,onClick:d?void 0:E,autoFocus:f},F,P),R=i.useMemo(()=>({checked:k,disabled:d,active:v,hover:w,focus:v,autofocus:f}),[k,d,w,v,f]),D=q();return S.createElement($,{name:"RadioGroup.Description"},S.createElement(y,{name:"RadioGroup.Label"},D({ourProps:T,theirProps:h,slot:R,defaultTag:un,name:"RadioGroup.Option"})))}let mn="span";function pn(e,t){var r;let n=De("Radio"),a=Ie("Radio"),o=i.useId(),c=xt(),l=me(),{id:d=c||`headlessui-radio-${o}`,value:f,disabled:h=n.disabled||l||!1,autoFocus:u=!1,...x}=e,g=i.useRef(null),y=ie(g,t),p=kt(),$=Hr(),b=Le({value:f,disabled:h});se(()=>a.registerOption({id:d,element:g,propsRef:b}),[d,a,g,b]);let E=M(D=>{var m;if(jt(D.currentTarget))return D.preventDefault();a.change(f)&&((m=g.current)==null||m.focus())}),{isFocusVisible:A,focusProps:v}=dt({autoFocus:u}),{isHovered:F,hoverProps:w}=ct({isDisabled:h}),P=((r=n.firstOption)==null?void 0:r.id)===d,k=n.compare(n.value,f),T=pt({ref:y,id:d,role:"radio","aria-checked":k?"true":"false","aria-labelledby":p,"aria-describedby":$,"aria-disabled":h?!0:void 0,tabIndex:h?-1:k||!n.containsCheckedOption&&P?n.tabIndex:-1,autoFocus:u,onClick:h?void 0:E},v,w),R=i.useMemo(()=>({checked:k,disabled:h,hover:F,focus:A,autofocus:u}),[k,h,F,A,u]);return q()({ourProps:T,theirProps:x,slot:R,defaultTag:mn,name:"Radio"})}let hn=J(dn),gn=J(fn),bn=J(pn),vn=Ur,xn=_r,fe=Object.assign(hn,{Option:gn,Radio:bn,Label:vn,Description:xn});function yn(){const[e,t]=i.useState(!1),r="SB-Mid-client-QgvVBJ-CMy3Eatzp";return i.useEffect(()=>{if(window.snap){t(!0);return}const n=document.createElement("script");return n.src="https://app.sandbox.midtrans.com/snap/snap.js",n.setAttribute("data-client-key",r),n.async=!0,n.onload=()=>t(!0),n.onerror=()=>console.error("Failed to load Midtrans Snap.js"),document.body.appendChild(n),()=>{document.body.removeChild(n)}},[r]),{isLoaded:e}}const $n={getShippingCost:e=>{const{destinationCity:t,weight:r=1e3,...n}=e;return Z.post("/shipping/calculate",{city:t,weight:r,...n})},getProvinces:()=>Z.get("/shipping/provinces"),getCities:e=>Z.get(`/shipping/cities/${e}`),validateAddress:e=>Z.post("/shipping/validate-address",{address:e}),checkFreeShipping:e=>Z.get("/shipping/check-free-shipping",{params:{city:e}})},L={formatPrice:e=>e===0?"GRATIS":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),getDeliveryEstimate:e=>{const t=new Date,r=e.match(/\d+/g);if(!r||r.length===0)return{min:new Date(t.getTime()+2880*60*1e3),max:new Date(t.getTime()+4320*60*1e3)};const n=parseInt(r[0]),a=r.length>1?parseInt(r[1]):n;return{min:new Date(t.getTime()+n*24*60*60*1e3),max:new Date(t.getTime()+a*24*60*60*1e3)}},isLikelyJabodetabek:e=>{if(!e)return!1;const t=["jakarta","bogor","depok","tangerang","bekasi","dki jakarta","tangsel","tangerang selatan"],r=e.toLowerCase();return t.some(n=>r.includes(n)||n.includes(r))},isValidPostalCode:e=>/^\d{5}$/.test(e),isValidPhoneNumber:e=>{const t=e.replace(/[\s-]/g,"");return/^(\+62|62|0)[0-9]{9,13}$/.test(t)}},Tt=i.memo(({shippingAddress:e,onShippingCostChange:t,cartWeight:r=1e3,onAddressChange:n})=>{const[a,o]=i.useState([]),[c,l]=i.useState(null),[d,f]=i.useState(!1),[h,u]=i.useState(!1),[x,g]=i.useState(null),{toast:y}=qe(),p={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1}}},$={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0}},b=i.useCallback(async()=>{if(!e.city||e.city.length<3){o([]),l(null),t(0,"REG");return}f(!0),g(null);try{const F=(await $n.getShippingCost({destinationCity:e.city,weight:r})).data.data,{destination:w,isJabodetabek:P,shippingCost:k,courier:T,service:R,etd:D}=F,m={service:R||"REG",description:`${T||"Standard"} ${R||"Regular"}`,cost:k,etd:D||"2-3 hari kerja",isFree:k===0};o([m]),u(P),l(m),t(m.cost,m.service),P&&k===0&&y({title:"Gratis Ongkir! ðŸŽ‰",description:"Gratis ongkir untuk wilayah Jabodetabek",duration:3e3})}catch(v){console.error("Shipping calculation failed:",v),g("Gagal menghitung ongkir. Silakan coba lagi.");const F=L.isLikelyJabodetabek(e.city),w=F?0:15e3;o([{service:"REG",description:F?"Gratis Ongkir":"Regular Service",cost:w,etd:"2-3 hari kerja",isFree:F}]),l({service:"REG",cost:w}),t(w,"REG")}finally{f(!1)}},[e.city,r,t,y]);i.useEffect(()=>{const v=setTimeout(()=>{b()},800);return()=>clearTimeout(v)},[b]);const E=v=>{l(v),t(v.cost,v.service)},A=()=>{b()};return s.jsxs(H.div,{className:"space-y-4",variants:p,initial:"hidden",animate:"visible",children:[s.jsxs(H.div,{className:"space-y-2",variants:$,children:[s.jsx(Je,{htmlFor:"city",className:"text-sm font-medium",children:"Kota/Kabupaten *"}),s.jsxs("div",{className:"relative",children:[s.jsx(z,{id:"city",value:e.city||"",onChange:v=>n("city",v.target.value),placeholder:"Contoh: Jakarta Pusat, Bogor, Tangerang",className:"pr-10",required:!0}),d&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(He,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),!e.city&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Jakarta Pusat","Bogor","Depok","Tangerang","Bekasi","Bandung","Surabaya"].map(v=>s.jsx("button",{type:"button",onClick:()=>n("city",v),className:"px-3 py-1 text-xs bg-accent/10 text-accent rounded-full hover:bg-accent/20 transition-colors",children:v},v))})]}),s.jsx(ce,{children:h&&s.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl",children:[s.jsx(Bt,{className:"text-green-600 flex-shrink-0",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-green-800",children:"ðŸŽ‰ Gratis Ongkir untuk wilayah Jabodetabek!"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Hemat biaya pengiriman khusus untuk wilayah Jakarta, Bogor, Depok, Tangerang, dan Bekasi"})]})]})}),s.jsx(ce,{children:x&&s.jsxs(H.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Ht,{className:"text-red-600 flex-shrink-0",size:18}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-red-800",children:x})}),s.jsx($e,{type:"button",variant:"outline",size:"sm",onClick:A,className:"text-red-600 border-red-200 hover:bg-red-100",children:"Coba Lagi"})]})}),s.jsx(ce,{children:a.length>0&&s.jsxs(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{size:18,className:"text-accent"}),s.jsx("h4",{className:"font-medium text-foreground",children:"Pilih Kurir"})]}),s.jsx(fe,{value:c,onChange:E,className:"space-y-2",children:a.map((v,F)=>{const w=L.getDeliveryEstimate(v.etd);return s.jsx(fe.Option,{value:v,children:({checked:P})=>s.jsx(H.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`rounded-xl border p-4 cursor-pointer transition-all duration-200 ${P?"border-accent bg-accent/5 shadow-lg shadow-accent/10":"border-border hover:border-accent/50 hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-semibold text-foreground",children:v.service}),v.isFree&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:"GRATIS"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Estimasi: ",v.etd]}),s.jsx("span",{className:"hidden sm:inline",children:"â€¢"}),s.jsxs("span",{children:["Tiba: ",w.min.toLocaleDateString("id-ID",{day:"numeric",month:"short"})," - ",w.max.toLocaleDateString("id-ID",{day:"numeric",month:"short"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-lg",children:L.formatPrice(v.cost)})}),P&&s.jsx(Xe,{className:"text-accent flex-shrink-0",size:20})]})]})})},F)})})]})}),s.jsx(ce,{children:d&&a.length===0&&s.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6",children:s.jsxs("div",{className:"inline-flex items-center gap-3 text-muted-foreground",children:[s.jsx(He,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"text-sm",children:"Menghitung ongkir..."})]})})}),r>0&&s.jsx(H.div,{variants:$,className:"text-xs text-muted-foreground bg-muted/30 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Berat total pesanan:"}),s.jsxs("span",{className:"font-medium",children:[(r/1e3).toFixed(1)," kg"]})]})})]})});Tt.displayName="ShippingCalculator";const jn={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},ee=i.memo(({id:e,label:t,tooltip:r,children:n,...a})=>s.jsxs("div",{className:"space-y-2 relative group",children:[s.jsxs(Je,{htmlFor:e,className:"text-sm font-medium text-foreground/80 flex items-center gap-1",children:[t,r&&s.jsx(Vt,{size:14,className:"text-muted-foreground group-hover:text-foreground transition duration-300",title:r})]}),n||s.jsx(z,{id:e,...a,className:`bg-card/60 border border-border focus:border-accent focus:ring-2 focus:ring-accent/40 \r
                     text-foreground transition duration-300 rounded-xl py-3 w-full`})]})),En=i.memo(({item:e})=>{const[t,r]=i.useState(!1);return s.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg bg-card/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:e.images?.[0]?.url||"/placeholder.svg",alt:e.name,className:`w-full h-full object-cover transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>r(!0),loading:"lazy"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:e.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Size ",e.size," â€¢ Qty ",e.quantity]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",L.formatPrice(e.price)]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-mono font-semibold text-sm",children:L.formatPrice(e.price*e.quantity)})})]})}),te=i.memo(({label:e,value:t,className:r="",highlight:n=!1})=>s.jsxs("div",{className:`flex justify-between items-center ${r} ${n?"text-lg font-bold":"text-sm"}`,children:[s.jsx("span",{className:n?"text-foreground":"text-muted-foreground",children:e}),s.jsx("span",{className:`font-mono ${n?"text-accent font-bold":"text-foreground"}`,children:t})]})),On=()=>{const{isLoaded:e}=yn(),t=Rt(),r=Dt(),{toast:n}=qe(),a=be(i.useCallback(m=>m.auth.user,[])),o=be(i.useCallback(m=>m.cart.cartItems,[])),c=be(i.useCallback(m=>m.orders.status,[])),[l,d]=i.useState("shipping"),[f,h]=i.useState("va"),[u,x]=i.useState(0),[g,y]=i.useState("REG"),[p,$]=i.useState({street:"",city:"",province:"",postalCode:"",country:"Indonesia",phone:""}),[b,E]=i.useState({isValid:!1,errors:[]}),A=i.useMemo(()=>o.reduce((m,j)=>{const N=j.weight||300;return m+N*j.quantity},0),[o]),v=i.useMemo(()=>{const m=o.reduce((X,oe)=>X+oe.price*oe.quantity,0),j=f==="cod"?2500:0,N=f==="va"?3e3:0,G=m+u+j-N;return{subtotal:m,shippingFee:u,adminFee:j,discount:N,total:G,savings:u===0?15e3:0}},[o,f,u]),F=i.useMemo(()=>[{id:"va",name:"Pembayaran Online",desc:"Virtual Account, E-Wallet, Credit Card",icon:Ve,recommended:!0},{id:"cod",name:`Cash On Delivery (+${L.formatPrice(v.adminFee)})`,desc:"Bayar saat barang diterima",icon:Gt,fee:v.adminFee}],[v.adminFee]),w=i.useCallback(()=>{const m=[];return(!p.street||p.street.trim().length<10)&&m.push("Alamat lengkap minimal 10 karakter"),(!p.city||p.city.trim().length<3)&&m.push("Nama kota/kabupaten harus diisi"),(!p.postalCode||!L.isValidPostalCode(p.postalCode))&&m.push("Kode pos harus 5 digit angka"),(!p.phone||!L.isValidPhoneNumber(p.phone))&&m.push("Nomor telepon tidak valid"),E({isValid:m.length===0,errors:m}),m.length===0},[p]),P=i.useCallback((m,j)=>{$(N=>({...N,[m]:j}))},[]),k=i.useCallback((m,j)=>{x(m),y(j)},[]),T=i.useCallback(()=>{if(!w()){n({variant:"destructive",title:"Alamat tidak lengkap",description:"Mohon lengkapi dan periksa kembali alamat pengiriman Anda"});return}if(u===0&&!L.isLikelyJabodetabek(p.city)){n({variant:"destructive",title:"Ongkir belum dihitung",description:"Silakan tunggu perhitungan ongkir selesai"});return}d("payment")},[p,u,w,n]),R=i.useCallback(()=>{d("shipping")},[]),D=i.useCallback(async m=>{if(m.preventDefault(),!w()){n({variant:"destructive",title:"Alamat tidak valid",description:"Mohon periksa kembali alamat pengiriman Anda"});return}const j={items:o.map(N=>({product:N._id,quantity:N.quantity,size:N.size})),shippingAddress:{...p,fullName:a.name},paymentMethod:f,shippingCost:u,selectedShippingService:g,notes:""};try{const N=await t(Mt(j)).unwrap();if(!N||!N.order||!N.order.orderId)throw new Error("Order creation failed - missing order data");const G=N.order.orderId;f==="va"?e&&window.snap&&N.payment?.snapToken?window.snap.pay(N.payment.snapToken,{onSuccess:()=>{n({title:"Pembayaran Berhasil! ðŸŽ‰",description:`Order #${G} telah dibayar`}),t(Ge()),t(Be()),r("/profile",{state:{activeView:"orders"}})},onPending:()=>{n({title:"Pembayaran Pending â³",description:`Order #${G} menunggu pembayaran`}),r("/profile",{state:{activeView:"orders"}})},onError:X=>{n({variant:"destructive",title:"Pembayaran Gagal",description:X.message||"Terjadi kesalahan dalam pembayaran"})},onClose:()=>{n({title:"Pembayaran Dibatalkan",description:"Anda menutup halaman pembayaran."})}}):n({variant:"destructive",title:"Error",description:"Sistem pembayaran belum siap. Silakan coba lagi."}):(n({title:"Order Berhasil Dibuat! ðŸŽ‰",description:`Order #${G} akan segera diproses`}),t(Ge()),t(Be()),r("/profile",{state:{activeView:"orders"}}))}catch(N){console.error("Order creation failed:",N),n({variant:"destructive",title:"Gagal membuat pesanan",description:N.message||"Terjadi kesalahan saat membuat pesanan. Silakan coba lagi."})}},[o,p,a.name,f,u,g,e,t,n,r,w]);return i.useEffect(()=>{o.length===0&&r("/cart")},[o.length,r]),i.useEffect(()=>{l==="shipping"&&w()},[p,l,w]),s.jsxs("div",{className:"relative min-h-screen px-4 pt-24 pb-20 sm:px-6 lg:px-10 font-sans text-foreground",children:[s.jsxs(It,{children:[s.jsx("title",{children:"Checkout - Radiant Rage"}),s.jsx("meta",{name:"description",content:"Selesaikan pembelian Anda dengan aman dan mudah"})]}),s.jsx("div",{className:"absolute -top-24 -left-20 w-72 h-72 bg-accent/25 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-28 -right-20 w-96 h-96 bg-secondary/30 rounded-full blur-3xl"}),s.jsxs(H.div,{variants:jn,initial:"hidden",animate:"show",className:"relative z-10 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-heading font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:"Checkout"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Selesaikan pembelian Anda dengan aman"}),s.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 ${l==="shipping"?"text-accent":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${l==="shipping"?"border-accent bg-accent text-white":"border-muted-foreground"}`,children:"1"}),s.jsx("span",{className:"text-sm font-medium",children:"Alamat"})]}),s.jsx("div",{className:"w-8 h-0.5 bg-border"}),s.jsxs("div",{className:`flex items-center space-x-2 ${l==="payment"?"text-accent":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${l==="payment"?"border-accent bg-accent text-white":"border-muted-foreground"}`,children:"2"}),s.jsx("span",{className:"text-sm font-medium",children:"Pembayaran"})]})]})]}),s.jsxs("form",{onSubmit:D,className:"flex flex-col lg:grid lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"glass-card p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(je,{size:20,className:"text-accent"}),"Alamat Pengiriman"]}),l!=="shipping"&&s.jsx("button",{type:"button",onClick:R,className:"text-sm text-accent hover:text-accent/80 transition duration-300 font-medium",children:"Edit"})]}),l==="shipping"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(ee,{id:"fullName",label:"Nama Lengkap",children:s.jsx(z,{id:"fullName",defaultValue:a?.name,readOnly:!0,className:"bg-muted/50"})}),s.jsx(ee,{id:"email",label:"Email",children:s.jsx(z,{id:"email",defaultValue:a?.email,readOnly:!0,className:"bg-muted/50"})})]}),s.jsx(ee,{id:"phone",label:"No. Telepon",tooltip:"Format: 08xxxxxxxxxx atau +62xxxxxxxxxx",children:s.jsx(z,{id:"phone",value:p.phone,onChange:m=>P("phone",m.target.value),placeholder:"08xxxxxxxxxx",required:!0,className:b.errors.some(m=>m.includes("telepon"))?"border-red-500":""})}),s.jsx(ee,{id:"street",label:"Alamat Lengkap",children:s.jsx("textarea",{id:"street",value:p.street,onChange:m=>P("street",m.target.value),placeholder:"Jalan, No. Rumah, RT/RW, Kelurahan, Kecamatan",className:`w-full p-3 border rounded-xl bg-card/60 min-h-[80px] resize-none transition duration-300 focus:border-accent focus:ring-2 focus:ring-accent/40 ${b.errors.some(m=>m.includes("Alamat"))?"border-red-500":"border-border"}`,required:!0})}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:s.jsx(ee,{id:"postalCode",label:"Kode Pos",tooltip:"5 digit kode pos Indonesia",children:s.jsx(z,{id:"postalCode",value:p.postalCode,onChange:m=>P("postalCode",m.target.value),placeholder:"12345",maxLength:5,required:!0,className:b.errors.some(m=>m.includes("Kode pos"))?"border-red-500":""})})}),s.jsx(Tt,{shippingAddress:p,onShippingCostChange:k,cartWeight:A,onAddressChange:P}),b.errors.length>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Perhatian:"}),s.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:b.errors.map((m,j)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1 h-1 bg-red-600 rounded-full"}),m]},j))})]}),s.jsx("div",{className:"mt-6",children:s.jsx($e,{type:"button",onClick:T,disabled:!b.isValid,className:"w-full rounded-full font-bold btn-primary py-3 disabled:opacity-50",children:"Lanjut ke Pembayaran"})})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-start gap-3 p-4 bg-muted/30 rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:a?.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a?.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.phone})]})}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-sm",children:p.street}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.city,", ",p.postalCode]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[s.jsx(je,{size:16,className:"text-accent"}),s.jsxs("span",{className:"text-sm font-medium text-accent",children:[g," - ",L.formatPrice(u)]}),u===0&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"GRATIS"})]})]})]}),s.jsxs("div",{className:"glass-card p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[s.jsx(Ve,{size:20,className:"text-accent"}),"Metode Pembayaran"]}),l==="payment"&&s.jsx(fe,{value:f,onChange:h,className:"space-y-3",children:F.map(m=>s.jsx(fe.Option,{value:m.id,children:({checked:j})=>s.jsxs("div",{className:`rounded-xl border px-6 py-4 transition duration-300 cursor-pointer relative ${j?"border-accent ring-2 ring-accent/50 bg-accent/5":"border-border hover:border-accent/40 hover:bg-accent/5"}`,children:[m.recommended&&s.jsx("span",{className:"absolute -top-2 left-4 px-2 py-1 text-xs font-medium bg-accent text-white rounded-full",children:"Direkomendasikan"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(m.icon,{size:20,className:"text-foreground/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:m.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.desc})]})]}),j&&s.jsx(Xe,{className:"text-accent",size:20})]})]})},m.id))})]})]}),s.jsx("div",{className:"lg:col-span-2 lg:sticky lg:top-24 self-start",children:s.jsxs("div",{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Ringkasan Pesanan"}),s.jsx("div",{className:"space-y-3 mb-6",children:o.map(m=>s.jsx(En,{item:m},`${m._id}-${m.size}`))}),s.jsx("div",{className:"border-t border-border my-6"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{label:"Subtotal",value:L.formatPrice(v.subtotal)}),s.jsx(te,{label:`Ongkir (${g})`,value:u===0?"GRATIS":L.formatPrice(v.shippingFee),className:u===0?"text-green-600":""}),v.savings>0&&s.jsx(te,{label:"Hemat ongkir",value:`-${L.formatPrice(v.savings)}`,className:"text-green-600"}),f==="cod"&&v.adminFee>0&&s.jsx(te,{label:"Biaya Admin COD",value:L.formatPrice(v.adminFee)})]}),s.jsx("div",{className:"border-t border-border my-6"}),s.jsx(te,{label:"Total",value:L.formatPrice(v.total),highlight:!0}),s.jsxs($e,{type:"submit",size:"lg",disabled:l!=="payment"||c==="loading"||!b.isValid,className:"w-full mt-6 rounded-full font-bold btn-primary py-4 disabled:opacity-50 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),s.jsx(_e,{size:18,className:"mr-2"}),c==="loading"?"Memproses...":f==="cod"?"Buat Pesanan":"Bayar Sekarang"]}),f==="va"&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-3",children:"Anda akan diarahkan ke halaman pembayaran yang aman"}),s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[s.jsx(_e,{size:12}),s.jsx("span",{children:"SSL Secure"})]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pembayaran Aman"})]})]})})]})]})]})};export{On as default};
