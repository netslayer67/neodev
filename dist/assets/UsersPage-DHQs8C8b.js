import{o as He,r,ac as ke,j as e,ad as _t,ae as Mt,af as O,ag as q,ah as M,ai as At,aj as P,ak as Dt,N as Ve,al as kt,am as Lt,an as Ot,K as G,u as Ut,h as Bt,a as Ht,ao as Vt,m as W,B as ue,H as Me,U as pe,I as je,P as Ft,ap as Wt,aq as Kt,ar as zt}from"./index-prnh0kJO.js";import{i as Fe,u as $t,R as qt,j as Ae,A as Gt,k as Yt,l as Zt,m as Xt,F as Jt,C as Qt,n as eo,T as to,a as oo,b as Le,c as le,d as so,e as se,D as ro,f as no,M as ao,g as lo,h as Oe}from"./dropdown-menu-B0kjxz_8.js";import{D as co,a as io,b as uo,c as po}from"./dialog-Aj-kJqfr.js";import{L as Ne}from"./label-BLVgaqYa.js";import{C as We}from"./chevron-down-DWtr_vqp.js";import{C as mo}from"./check-C6tV4m32.js";import{U as Ke}from"./user-plus-BX8AzgmB.js";import{U as Ue}from"./users-NoBN2ElT.js";import{S as fo}from"./search-Cx9c56G7.js";import{T as ho}from"./trash-2-CNzSmOGn.js";import"./chevron-right-BgSPLwzK.js";import"./circle-D7M3hE65.js";const xo=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ze=He("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);function Be(o,[s,t]){return Math.min(t,Math.max(s,o))}function go(o){const s=r.useRef({value:o,previous:o});return r.useMemo(()=>(s.current.value!==o&&(s.current.previous=s.current.value,s.current.value=o),s.current.previous),[o])}var vo=[" ","Enter","ArrowUp","ArrowDown"],So=[" ","Enter"],ee="Select",[fe,he,wo]=Mt(ee),[re,ds]=_t(ee,[wo,Fe]),xe=Fe(),[yo,Y]=re(ee),[bo,No]=re(ee),$e=o=>{const{__scopeSelect:s,children:t,open:a,defaultOpen:l,onOpenChange:u,value:n,defaultValue:i,onValueChange:d,dir:m,name:h,autoComplete:v,disabled:j,required:N,form:y}=o,p=xe(s),[g,S]=r.useState(null),[f,c]=r.useState(null),[C,A]=r.useState(!1),ne=$t(m),[R,k]=ke({prop:a,defaultProp:l??!1,onChange:u,caller:ee}),[K,X]=ke({prop:n,defaultProp:i,onChange:d,caller:ee}),U=r.useRef(null),B=g?y||!!g.closest("form"):!0,[z,H]=r.useState(new Set),V=Array.from(z).map(E=>E.props.value).join(";");return e.jsx(qt,{...p,children:e.jsxs(yo,{required:N,scope:s,trigger:g,onTriggerChange:S,valueNode:f,onValueNodeChange:c,valueNodeHasChildren:C,onValueNodeHasChildrenChange:A,contentId:Ae(),value:K,onValueChange:X,open:R,onOpenChange:k,dir:ne,triggerPointerDownPosRef:U,disabled:j,children:[e.jsx(fe.Provider,{scope:s,children:e.jsx(bo,{scope:o.__scopeSelect,onNativeOptionAdd:r.useCallback(E=>{H(L=>new Set(L).add(E))},[]),onNativeOptionRemove:r.useCallback(E=>{H(L=>{const F=new Set(L);return F.delete(E),F})},[]),children:t})}),B?e.jsxs(xt,{"aria-hidden":!0,required:N,tabIndex:-1,name:h,autoComplete:v,value:K,onChange:E=>X(E.target.value),disabled:j,form:y,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from(z)]},V):null]})})};$e.displayName=ee;var qe="SelectTrigger",Ge=r.forwardRef((o,s)=>{const{__scopeSelect:t,disabled:a=!1,...l}=o,u=xe(t),n=Y(qe,t),i=n.disabled||a,d=O(s,n.onTriggerChange),m=he(t),h=r.useRef("touch"),[v,j,N]=vt(p=>{const g=m().filter(c=>!c.disabled),S=g.find(c=>c.value===n.value),f=St(g,p,S);f!==void 0&&n.onValueChange(f.value)}),y=p=>{i||(n.onOpenChange(!0),N()),p&&(n.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Gt,{asChild:!0,...u,children:e.jsx(M.button,{type:"button",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":"none",dir:n.dir,"data-state":n.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":gt(n.value)?"":void 0,...l,ref:d,onClick:P(l.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&y(p)}),onPointerDown:P(l.onPointerDown,p=>{h.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:P(l.onKeyDown,p=>{const g=v.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&j(p.key),!(g&&p.key===" ")&&vo.includes(p.key)&&(y(),p.preventDefault())})})})});Ge.displayName=qe;var Ye="SelectValue",Ze=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:a,style:l,children:u,placeholder:n="",...i}=o,d=Y(Ye,t),{onValueNodeHasChildrenChange:m}=d,h=u!==void 0,v=O(s,d.onValueNodeChange);return q(()=>{m(h)},[m,h]),e.jsx(M.span,{...i,ref:v,style:{pointerEvents:"none"},children:gt(d.value)?e.jsx(e.Fragment,{children:n}):u})});Ze.displayName=Ye;var jo="SelectIcon",Xe=r.forwardRef((o,s)=>{const{__scopeSelect:t,children:a,...l}=o;return e.jsx(M.span,{"aria-hidden":!0,...l,ref:s,children:a||"â–¼"})});Xe.displayName=jo;var Co="SelectPortal",Je=o=>e.jsx(Dt,{asChild:!0,...o});Je.displayName=Co;var te="SelectContent",Qe=r.forwardRef((o,s)=>{const t=Y(te,o.__scopeSelect),[a,l]=r.useState();if(q(()=>{l(new DocumentFragment)},[]),!t.open){const u=a;return u?Ve.createPortal(e.jsx(et,{scope:o.__scopeSelect,children:e.jsx(fe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(tt,{...o,ref:s})});Qe.displayName=te;var D=10,[et,Z]=re(te),Io="SelectContentImpl",To=Lt("SelectContent.RemoveScroll"),tt=r.forwardRef((o,s)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:n,side:i,sideOffset:d,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:j,collisionPadding:N,sticky:y,hideWhenDetached:p,avoidCollisions:g,...S}=o,f=Y(te,t),[c,C]=r.useState(null),[A,ne]=r.useState(null),R=O(s,x=>C(x)),[k,K]=r.useState(null),[X,U]=r.useState(null),B=he(t),[z,H]=r.useState(!1),V=r.useRef(!1);r.useEffect(()=>{if(c)return Yt(c)},[c]),Zt();const E=r.useCallback(x=>{const[I,..._]=B().map(T=>T.ref.current),[w]=_.slice(-1),b=document.activeElement;for(const T of x)if(T===b||(T?.scrollIntoView({block:"nearest"}),T===I&&A&&(A.scrollTop=0),T===w&&A&&(A.scrollTop=A.scrollHeight),T?.focus(),document.activeElement!==b))return},[B,A]),L=r.useCallback(()=>E([k,c]),[E,k,c]);r.useEffect(()=>{z&&L()},[z,L]);const{onOpenChange:F,triggerPointerDownPosRef:$}=f;r.useEffect(()=>{if(c){let x={x:0,y:0};const I=w=>{x={x:Math.abs(Math.round(w.pageX)-($.current?.x??0)),y:Math.abs(Math.round(w.pageY)-($.current?.y??0))}},_=w=>{x.x<=10&&x.y<=10?w.preventDefault():c.contains(w.target)||F(!1),document.removeEventListener("pointermove",I),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",_,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",_,{capture:!0})}}},[c,F,$]),r.useEffect(()=>{const x=()=>F(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[F]);const[ge,ie]=vt(x=>{const I=B().filter(b=>!b.disabled),_=I.find(b=>b.ref.current===document.activeElement),w=St(I,x,_);w&&setTimeout(()=>w.ref.current.focus())}),ve=r.useCallback((x,I,_)=>{const w=!V.current&&!_;(f.value!==void 0&&f.value===I||w)&&(K(x),w&&(V.current=!0))},[f.value]),Se=r.useCallback(()=>c?.focus(),[c]),oe=r.useCallback((x,I,_)=>{const w=!V.current&&!_;(f.value!==void 0&&f.value===I||w)&&U(x)},[f.value]),de=a==="popper"?Ce:ot,ae=de===Ce?{side:i,sideOffset:d,align:m,alignOffset:h,arrowPadding:v,collisionBoundary:j,collisionPadding:N,sticky:y,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx(et,{scope:t,content:c,viewport:A,onViewportChange:ne,itemRefCallback:ve,selectedItem:k,onItemLeave:Se,itemTextRefCallback:oe,focusSelectedItem:L,selectedItemText:X,position:a,isPositioned:z,searchRef:ge,children:e.jsx(Xt,{as:To,allowPinchZoom:!0,children:e.jsx(Jt,{asChild:!0,trapped:f.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:P(l,x=>{f.trigger?.focus({preventScroll:!0}),x.preventDefault()}),children:e.jsx(Ot,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:n,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:x=>x.preventDefault(),...S,...ae,onPlaced:()=>H(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:P(S.onKeyDown,x=>{const I=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!I&&x.key.length===1&&ie(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let w=B().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(x.key)&&(w=w.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const b=x.target,T=w.indexOf(b);w=w.slice(T+1)}setTimeout(()=>E(w)),x.preventDefault()}})})})})})})});tt.displayName=Io;var Po="SelectItemAlignedPosition",ot=r.forwardRef((o,s)=>{const{__scopeSelect:t,onPlaced:a,...l}=o,u=Y(te,t),n=Z(te,t),[i,d]=r.useState(null),[m,h]=r.useState(null),v=O(s,R=>h(R)),j=he(t),N=r.useRef(!1),y=r.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:S,focusSelectedItem:f}=n,c=r.useCallback(()=>{if(u.trigger&&u.valueNode&&i&&m&&p&&g&&S){const R=u.trigger.getBoundingClientRect(),k=m.getBoundingClientRect(),K=u.valueNode.getBoundingClientRect(),X=S.getBoundingClientRect();if(u.dir!=="rtl"){const b=X.left-k.left,T=K.left-b,J=R.left-T,Q=R.width+J,we=Math.max(Q,k.width),ye=window.innerWidth-D,be=Be(T,[D,Math.max(D,ye-we)]);i.style.minWidth=Q+"px",i.style.left=be+"px"}else{const b=k.right-X.right,T=window.innerWidth-K.right-b,J=window.innerWidth-R.right-T,Q=R.width+J,we=Math.max(Q,k.width),ye=window.innerWidth-D,be=Be(T,[D,Math.max(D,ye-we)]);i.style.minWidth=Q+"px",i.style.right=be+"px"}const U=j(),B=window.innerHeight-D*2,z=p.scrollHeight,H=window.getComputedStyle(m),V=parseInt(H.borderTopWidth,10),E=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),$=V+E+z+F+L,ge=Math.min(g.offsetHeight*5,$),ie=window.getComputedStyle(p),ve=parseInt(ie.paddingTop,10),Se=parseInt(ie.paddingBottom,10),oe=R.top+R.height/2-D,de=B-oe,ae=g.offsetHeight/2,x=g.offsetTop+ae,I=V+E+x,_=$-I;if(I<=oe){const b=U.length>0&&g===U[U.length-1].ref.current;i.style.bottom="0px";const T=m.clientHeight-p.offsetTop-p.offsetHeight,J=Math.max(de,ae+(b?Se:0)+T+L),Q=I+J;i.style.height=Q+"px"}else{const b=U.length>0&&g===U[0].ref.current;i.style.top="0px";const J=Math.max(oe,V+p.offsetTop+(b?ve:0)+ae)+_;i.style.height=J+"px",p.scrollTop=I-oe+p.offsetTop}i.style.margin=`${D}px 0`,i.style.minHeight=ge+"px",i.style.maxHeight=B+"px",a?.(),requestAnimationFrame(()=>N.current=!0)}},[j,u.trigger,u.valueNode,i,m,p,g,S,u.dir,a]);q(()=>c(),[c]);const[C,A]=r.useState();q(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const ne=r.useCallback(R=>{R&&y.current===!0&&(c(),f?.(),y.current=!1)},[c,f]);return e.jsx(Eo,{scope:t,contentWrapper:i,shouldExpandOnScrollRef:N,onScrollButtonChange:ne,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:e.jsx(M.div,{...l,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});ot.displayName=Po;var Ro="SelectPopperPosition",Ce=r.forwardRef((o,s)=>{const{__scopeSelect:t,align:a="start",collisionPadding:l=D,...u}=o,n=xe(t);return e.jsx(Qt,{...n,...u,ref:s,align:a,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ce.displayName=Ro;var[Eo,De]=re(te,{}),Ie="SelectViewport",st=r.forwardRef((o,s)=>{const{__scopeSelect:t,nonce:a,...l}=o,u=Z(Ie,t),n=De(Ie,t),i=O(s,u.onViewportChange),d=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(fe.Slot,{scope:t,children:e.jsx(M.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:P(l.onScroll,m=>{const h=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:j}=n;if(j?.current&&v){const N=Math.abs(d.current-h.scrollTop);if(N>0){const y=window.innerHeight-D*2,p=parseFloat(v.style.minHeight),g=parseFloat(v.style.height),S=Math.max(p,g);if(S<y){const f=S+N,c=Math.min(y,f),C=f-c;v.style.height=c+"px",v.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,v.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});st.displayName=Ie;var rt="SelectGroup",[_o,Mo]=re(rt),Ao=r.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=Ae();return e.jsx(_o,{scope:t,id:l,children:e.jsx(M.div,{role:"group","aria-labelledby":l,...a,ref:s})})});Ao.displayName=rt;var nt="SelectLabel",at=r.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=Mo(nt,t);return e.jsx(M.div,{id:l.id,...a,ref:s})});at.displayName=nt;var me="SelectItem",[Do,lt]=re(me),ct=r.forwardRef((o,s)=>{const{__scopeSelect:t,value:a,disabled:l=!1,textValue:u,...n}=o,i=Y(me,t),d=Z(me,t),m=i.value===a,[h,v]=r.useState(u??""),[j,N]=r.useState(!1),y=O(s,f=>d.itemRefCallback?.(f,a,l)),p=Ae(),g=r.useRef("touch"),S=()=>{l||(i.onValueChange(a),i.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Do,{scope:t,value:a,disabled:l,textId:p,isSelected:m,onItemTextChange:r.useCallback(f=>{v(c=>c||(f?.textContent??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:t,value:a,disabled:l,textValue:h,children:e.jsx(M.div,{role:"option","aria-labelledby":p,"data-highlighted":j?"":void 0,"aria-selected":m&&j,"data-state":m?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...n,ref:y,onFocus:P(n.onFocus,()=>N(!0)),onBlur:P(n.onBlur,()=>N(!1)),onClick:P(n.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:P(n.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:P(n.onPointerDown,f=>{g.current=f.pointerType}),onPointerMove:P(n.onPointerMove,f=>{g.current=f.pointerType,l?d.onItemLeave?.():g.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(n.onPointerLeave,f=>{f.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:P(n.onKeyDown,f=>{d.searchRef?.current!==""&&f.key===" "||(So.includes(f.key)&&S(),f.key===" "&&f.preventDefault())})})})})});ct.displayName=me;var ce="SelectItemText",it=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:a,style:l,...u}=o,n=Y(ce,t),i=Z(ce,t),d=lt(ce,t),m=No(ce,t),[h,v]=r.useState(null),j=O(s,S=>v(S),d.onItemTextChange,S=>i.itemTextRefCallback?.(S,d.value,d.disabled)),N=h?.textContent,y=r.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:N},d.value),[d.disabled,d.value,N]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=m;return q(()=>(p(y),()=>g(y)),[p,g,y]),e.jsxs(e.Fragment,{children:[e.jsx(M.span,{id:d.textId,...u,ref:j}),d.isSelected&&n.valueNode&&!n.valueNodeHasChildren?Ve.createPortal(u.children,n.valueNode):null]})});it.displayName=ce;var dt="SelectItemIndicator",ut=r.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o;return lt(dt,t).isSelected?e.jsx(M.span,{"aria-hidden":!0,...a,ref:s}):null});ut.displayName=dt;var Te="SelectScrollUpButton",pt=r.forwardRef((o,s)=>{const t=Z(Te,o.__scopeSelect),a=De(Te,o.__scopeSelect),[l,u]=r.useState(!1),n=O(s,a.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let i=function(){const m=d.scrollTop>0;u(m)};const d=t.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),l?e.jsx(ft,{...o,ref:n,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=t;i&&d&&(i.scrollTop=i.scrollTop-d.offsetHeight)}}):null});pt.displayName=Te;var Pe="SelectScrollDownButton",mt=r.forwardRef((o,s)=>{const t=Z(Pe,o.__scopeSelect),a=De(Pe,o.__scopeSelect),[l,u]=r.useState(!1),n=O(s,a.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let i=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;u(h)};const d=t.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),l?e.jsx(ft,{...o,ref:n,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=t;i&&d&&(i.scrollTop=i.scrollTop+d.offsetHeight)}}):null});mt.displayName=Pe;var ft=r.forwardRef((o,s)=>{const{__scopeSelect:t,onAutoScroll:a,...l}=o,u=Z("SelectScrollButton",t),n=r.useRef(null),i=he(t),d=r.useCallback(()=>{n.current!==null&&(window.clearInterval(n.current),n.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),q(()=>{i().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),e.jsx(M.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:P(l.onPointerDown,()=>{n.current===null&&(n.current=window.setInterval(a,50))}),onPointerMove:P(l.onPointerMove,()=>{u.onItemLeave?.(),n.current===null&&(n.current=window.setInterval(a,50))}),onPointerLeave:P(l.onPointerLeave,()=>{d()})})}),ko="SelectSeparator",ht=r.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o;return e.jsx(M.div,{"aria-hidden":!0,...a,ref:s})});ht.displayName=ko;var Re="SelectArrow",Lo=r.forwardRef((o,s)=>{const{__scopeSelect:t,...a}=o,l=xe(t),u=Y(Re,t),n=Z(Re,t);return u.open&&n.position==="popper"?e.jsx(eo,{...l,...a,ref:s}):null});Lo.displayName=Re;var Oo="SelectBubbleInput",xt=r.forwardRef(({__scopeSelect:o,value:s,...t},a)=>{const l=r.useRef(null),u=O(a,l),n=go(s);return r.useEffect(()=>{const i=l.current;if(!i)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(n!==s&&h){const v=new Event("change",{bubbles:!0});h.call(i,s),i.dispatchEvent(v)}},[n,s]),e.jsx(M.select,{...t,style:{...At,...t.style},ref:u,defaultValue:s})});xt.displayName=Oo;function gt(o){return o===""||o===void 0}function vt(o){const s=kt(o),t=r.useRef(""),a=r.useRef(0),l=r.useCallback(n=>{const i=t.current+n;s(i),function d(m){t.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(i)},[s]),u=r.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,l,u]}function St(o,s,t){const l=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,u=t?o.indexOf(t):-1;let n=Uo(o,Math.max(u,0));l.length===1&&(n=n.filter(m=>m!==t));const d=n.find(m=>m.textValue.toLowerCase().startsWith(l.toLowerCase()));return d!==t?d:void 0}function Uo(o,s){return o.map((t,a)=>o[(s+a)%o.length])}var Bo=$e,wt=Ge,Ho=Ze,Vo=Xe,Fo=Je,yt=Qe,Wo=st,bt=at,Nt=ct,Ko=it,zo=ut,jt=pt,Ct=mt,It=ht;const $o=Bo,qo=Ho,Tt=r.forwardRef(({className:o,children:s,...t},a)=>e.jsxs(wt,{ref:a,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[s,e.jsx(Vo,{asChild:!0,children:e.jsx(We,{className:"h-4 w-4 opacity-50"})})]}));Tt.displayName=wt.displayName;const Pt=r.forwardRef(({className:o,...s},t)=>e.jsx(jt,{ref:t,className:G("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(xo,{className:"h-4 w-4"})}));Pt.displayName=jt.displayName;const Rt=r.forwardRef(({className:o,...s},t)=>e.jsx(Ct,{ref:t,className:G("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(We,{className:"h-4 w-4"})}));Rt.displayName=Ct.displayName;const Et=r.forwardRef(({className:o,children:s,position:t="popper",...a},l)=>e.jsx(Fo,{children:e.jsxs(yt,{ref:l,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(Pt,{}),e.jsx(Wo,{className:G("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Rt,{})]})}));Et.displayName=yt.displayName;const Go=r.forwardRef(({className:o,...s},t)=>e.jsx(bt,{ref:t,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...s}));Go.displayName=bt.displayName;const Ee=r.forwardRef(({className:o,children:s,...t},a)=>e.jsxs(Nt,{ref:a,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zo,{children:e.jsx(mo,{className:"h-4 w-4"})})}),e.jsx(Ko,{children:s})]}));Ee.displayName=Nt.displayName;const Yo=r.forwardRef(({className:o,...s},t)=>e.jsx(It,{ref:t,className:G("-mx-1 my-1 h-px bg-muted",o),...s}));Yo.displayName=It.displayName;const _e=o=>typeof o!="string"?"":o.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/[<>]/g,"").trim().substring(0,100),Zo=({role:o})=>{const s={admin:{bg:"bg-error/10",text:"text-error",icon:Me,label:"Admin"},user:{bg:"bg-info/10",text:"text-info",icon:pe,label:"User"}},t=s[o]||s.user,a=t.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium
      ${t.bg} ${t.text} border border-current/20`,children:[e.jsx(a,{className:"w-3 h-3"}),t.label]})},Xo=({isOpen:o,onClose:s,user:t,onSubmit:a})=>{const[l,u]=r.useState({name:"",email:"",role:"user"}),[n,i]=r.useState(!1);r.useEffect(()=>{u(t?{name:t.name||"",email:t.email||"",role:t.role||"user"}:{name:"",email:"",role:"user"})},[t,o]);const d=async h=>{h.preventDefault(),i(!0);try{await a(l),s()}catch(v){console.error("Form submission error:",v)}finally{i(!1)}},m=(h,v)=>{u(j=>({...j,[h]:_e(v)}))};return e.jsx(co,{open:o,onOpenChange:s,children:e.jsxs(io,{className:"glass-card border-border max-w-md",children:[e.jsx(uo,{children:e.jsxs(po,{className:"flex items-center gap-2",children:[t?e.jsx(ze,{className:"w-5 h-5"}):e.jsx(Ke,{className:"w-5 h-5"}),t?"Edit User":"Add New User"]})}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{htmlFor:"name",children:"Name"}),e.jsx(je,{id:"name",value:l.name,onChange:h=>m("name",h.target.value),placeholder:"Enter user name",required:!0,maxLength:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{htmlFor:"email",children:"Email"}),e.jsx(je,{id:"email",type:"email",value:l.email,onChange:h=>m("email",h.target.value),placeholder:"Enter email address",required:!0,maxLength:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{htmlFor:"role",children:"Role"}),e.jsxs($o,{value:l.role,onValueChange:h=>m("role",h),children:[e.jsx(Tt,{children:e.jsx(qo,{placeholder:"Select role"})}),e.jsxs(Et,{children:[e.jsx(Ee,{value:"user",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),"User"]})}),e.jsx(Ee,{value:"admin",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),"Admin"]})})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ue,{type:"button",variant:"outline",onClick:s,className:"flex-1",disabled:n,children:"Cancel"}),e.jsx(ue,{type:"submit",className:"flex-1",disabled:n,children:n?"Saving...":t?"Update":"Create"})]})]})]})})},us=()=>{const o=Ut(),{toast:s}=Bt(),{users:t=[],status:a}=Ht(c=>c.admin)||{},[l,u]=r.useState(!1),[n,i]=r.useState(null),[d,m]=r.useState(""),[h,v]=r.useState("All");r.useEffect(()=>{o(Vt())},[o]);const j=r.useCallback(c=>{const C=_e(c.target.value);m(C)},[]),N=r.useMemo(()=>t.filter(c=>h==="All"||c.role===h).filter(c=>{const C=_e(d);return c.name.toLowerCase().includes(C.toLowerCase())||c.email.toLowerCase().includes(C.toLowerCase())}),[d,h,t]),y=c=>{i(c),u(!0)},p=()=>{i(null),u(!0)},g=async c=>{if(window.confirm("Are you sure you want to delete this user?"))try{await o(Wt(c)).unwrap(),s({title:"Success",description:"User deleted successfully",className:"bg-success/10 border-success/20"})}catch(C){s({variant:"destructive",title:"Failed",description:C.message||"Failed to delete user",className:"bg-error/10 border-error/20"})}},S=async c=>{try{n?(await o(Kt({userId:n._id,userData:c})).unwrap(),s({title:"Success",description:"User updated successfully",className:"bg-success/10 border-success/20"})):(await o(zt(c)).unwrap(),s({title:"Success",description:"User created successfully",className:"bg-success/10 border-success/20"}))}catch(C){throw s({variant:"destructive",title:"Failed",description:C.message||`Failed to ${n?"update":"create"} user`,className:"bg-error/10 border-error/20"}),C}},f=[{key:"All",label:"All Users",count:t.length},{key:"admin",label:"Admins",count:t.filter(c=>c.role==="admin").length},{key:"user",label:"Users",count:t.filter(c=>c.role==="user").length}];return e.jsxs("div",{className:"relative min-h-screen bg-background",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx(W.div,{animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0},className:"absolute -top-20 -left-20 w-96 h-96 bg-accent/5 rounded-full blur-3xl"}),e.jsx(W.div,{animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.9,1]},transition:{duration:25,repeat:1/0},className:"absolute bottom-0 right-0 w-80 h-80 bg-secondary/8 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-8 pb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-4xl lg:text-5xl font-heading text-foreground mb-2\r
                  bg-gradient-to-r from-foreground via-accent to-secondary bg-clip-text`,children:"User Management"}),e.jsx("p",{className:"text-text-subtle text-lg",children:"Manage user accounts and permissions"})]}),e.jsxs(ue,{onClick:p,className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Add User"]})]})}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"glass-card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.length})]}),e.jsx(Ue,{className:"w-8 h-8 text-accent"})]})}),e.jsx("div",{className:"glass-card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(c=>c.role==="admin").length})]}),e.jsx(Me,{className:"w-8 h-8 text-error"})]})}),e.jsx("div",{className:"glass-card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular Users"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.filter(c=>c.role==="user").length})]}),e.jsx(pe,{className:"w-8 h-8 text-info"})]})})]}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"glass-card p-6 mb-8",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(fo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(je,{placeholder:"Search by name or email",value:d,onChange:j,className:`pl-12 h-12 bg-card/50 border-border text-foreground\r
                  placeholder-muted-foreground rounded-xl backdrop-blur-sm\r
                  focus:ring-2 focus:ring-accent/50 focus:border-accent\r
                  transition-all duration-320`,maxLength:100})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(c=>e.jsxs(W.button,{whileTap:{scale:.95},onClick:()=>v(c.key),className:`relative px-4 py-2 rounded-xl text-sm font-medium transition-all duration-320
                    ${h===c.key?"bg-secondary text-secondary-foreground shadow-lg shadow-secondary/25":"bg-muted/10 text-muted-foreground hover:bg-accent/10 hover:text-accent"} border border-border hover:border-accent/50`,children:[c.label,e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-current/20 rounded-full text-xs",children:c.count})]},c.key))})]}),e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"glass-card overflow-hidden",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(to,{children:[e.jsx(oo,{children:e.jsxs(Le,{className:"border-border hover:bg-transparent",children:[e.jsx(le,{className:"text-muted-foreground font-medium h-14",children:"User"}),e.jsx(le,{className:"text-muted-foreground font-medium",children:"Email"}),e.jsx(le,{className:"text-muted-foreground font-medium",children:"Role"}),e.jsx(le,{className:"text-muted-foreground font-medium",children:"Joined"}),e.jsx(le,{className:"text-muted-foreground font-medium text-right",children:"Actions"})]})}),e.jsxs(so,{children:[a==="loading"&&e.jsx(Le,{children:e.jsx(se,{colSpan:5,className:"py-16 text-center",children:e.jsx(Ft,{})})}),a==="succeeded"&&N.map((c,C)=>e.jsxs(W.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:C*.05},className:"border-border hover:bg-accent/5 transition-all duration-320 cursor-pointer",children:[e.jsx(se,{className:"font-medium text-foreground",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center",children:e.jsx(pe,{className:"w-4 h-4 text-accent"})}),c.name]})}),e.jsx(se,{className:"text-muted-foreground",children:c.email}),e.jsx(se,{children:e.jsx(Zo,{role:c.role})}),e.jsx(se,{className:"text-text-subtle",children:new Date(c.createdAt).toLocaleDateString("id-ID")}),e.jsx(se,{className:"text-right",children:e.jsxs(ro,{children:[e.jsx(no,{asChild:!0,children:e.jsx(ue,{variant:"ghost",size:"sm",className:`h-8 w-8 p-0 text-muted-foreground hover:text-foreground\r
                                hover:bg-accent/10 transition-all duration-320`,children:e.jsx(ao,{className:"h-4 w-4"})})}),e.jsxs(lo,{align:"end",className:"glass-card border-border min-w-40",children:[e.jsxs(Oe,{onClick:()=>y(c),className:`text-foreground hover:bg-accent/10 hover:text-accent\r
                                transition-colors duration-320`,children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Edit User"]}),e.jsxs(Oe,{onClick:()=>g(c._id),className:`text-error hover:bg-error/10 hover:text-error\r
                                transition-colors duration-320`,children:[e.jsx(ho,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]})})]},c._id))]})]}),a==="succeeded"&&N.length===0&&e.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16 text-muted-foreground",children:[e.jsx(Ue,{className:"w-16 h-16 mx-auto mb-4 text-muted/50"}),e.jsx("p",{className:"text-lg mb-2",children:"No users found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})]})})]})}),e.jsx(Xo,{isOpen:l,onClose:()=>u(!1),user:n,onSubmit:S})]})};export{us as default};
