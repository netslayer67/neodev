import{e as Fe,R as k,r as i,t as Ot,v as te,i as Je,j as s,m as G,I as J,w as Ge,A as de,B as je,u as Rt,h as Dt,a as ve,x as Mt,y as Be,z as Ve}from"./index-DZQ2CCKA.js";import{H as It}from"./Helmet-C13ebPFL.js";import{L as Xe}from"./label-C0OuT2m6.js";import{A as Ht}from"./alert-circle-DbBM7hIK.js";import{T as Ee}from"./truck-CV13bfjW.js";import{C as Qe}from"./check-circle-DIgt1TQm.js";import{C as _e}from"./credit-card-CM4VSfXp.js";import{L as Ke}from"./lock-DAxxMaub.js";import"./index-Ds9c_sIv.js";const Gt=Fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Bt=Fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Vt=Fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ye=typeof document<"u"?k.useLayoutEffect:()=>{};function _t(e){const t=i.useRef(null);return Ye(()=>{t.current=e},[e]),i.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const V=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},z=e=>e&&"window"in e&&e.window===e?e:V(e).defaultView||window;function Kt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Wt(e){return Kt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let zt=!1;function Pe(){return zt}function Ze(e,t){if(!Pe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:Wt(r)?r=r.host:r=r.parentNode}return!1}const we=(e=document)=>{var t;if(!Pe())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function et(e){return Pe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Ut(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function qt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function tt(e){let t=null;return()=>(t==null&&(t=e()),t)}const Jt=tt(function(){return qt(/^Mac/i)}),Xt=tt(function(){return Ut(/Android/i)});function rt(){let e=i.useRef(new Map),t=i.useCallback((a,o,c,l)=>{let d=l?.once?(...f)=>{e.current.delete(c),c(...f)}:c;e.current.set(c,{type:o,eventTarget:a,fn:d,options:l}),a.addEventListener(o,d,l)},[]),r=i.useCallback((a,o,c,l)=>{var d;let f=((d=e.current.get(c))===null||d===void 0?void 0:d.fn)||c;a.removeEventListener(o,f,l),e.current.delete(c)},[]),n=i.useCallback(()=>{e.current.forEach((a,o)=>{r(a.eventTarget,a.type,o,a.options)})},[r]);return i.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Qt(e){return e.mozInputSource===0&&e.isTrusted?!0:Xt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function nt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Yt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function at(e){let t=i.useRef({isFocused:!1,observer:null});Ye(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=_t(n=>{e?.(n)});return i.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,o=c=>{if(t.current.isFocused=!1,a.disabled){let l=nt(c);r(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let l=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let Zt=!1,ie=null,Ne=new Set,se=new Map,U=!1,ke=!1;const er={Tab:!0,Escape:!0};function Le(e,t){for(let r of Ne)r(e,t)}function tr(e){return!(e.metaKey||!Jt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function fe(e){U=!0,tr(e)&&(ie="keyboard",Le("keyboard",e))}function X(e){ie="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(U=!0,Le("pointer",e))}function st(e){Qt(e)&&(U=!0,ie="virtual")}function it(e){e.target===window||e.target===document||Zt||!e.isTrusted||(!U&&!ke&&(ie="virtual",Le("virtual",e)),U=!1,ke=!1)}function ot(){U=!1,ke=!0}function Se(e){if(typeof window>"u"||typeof document>"u"||se.get(z(e)))return;const t=z(e),r=V(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){U=!0,n.apply(this,arguments)},r.addEventListener("keydown",fe,!0),r.addEventListener("keyup",fe,!0),r.addEventListener("click",st,!0),t.addEventListener("focus",it,!0),t.addEventListener("blur",ot,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",X,!0),r.addEventListener("pointermove",X,!0),r.addEventListener("pointerup",X,!0)),t.addEventListener("beforeunload",()=>{lt(e)},{once:!0}),se.set(t,{focus:n})}const lt=(e,t)=>{const r=z(e),n=V(e);t&&n.removeEventListener("DOMContentLoaded",t),se.has(r)&&(r.HTMLElement.prototype.focus=se.get(r).focus,n.removeEventListener("keydown",fe,!0),n.removeEventListener("keyup",fe,!0),n.removeEventListener("click",st,!0),r.removeEventListener("focus",it,!0),r.removeEventListener("blur",ot,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",X,!0),n.removeEventListener("pointermove",X,!0),n.removeEventListener("pointerup",X,!0)),se.delete(r))};function rr(e){const t=V(e);let r;return t.readyState!=="loading"?Se(e):(r=()=>{Se(e)},t.addEventListener("DOMContentLoaded",r)),()=>lt(e,r)}typeof document<"u"&&rr();function ct(){return ie!=="pointer"}const nr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ar(e,t,r){let n=V(r?.target);const a=typeof window<"u"?z(r?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?z(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?z(r?.target).HTMLElement:HTMLElement,l=typeof window<"u"?z(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!nr.has(n.activeElement.type)||n.activeElement instanceof o||n.activeElement instanceof c&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof l&&!er[r.key])}function sr(e,t,r){Se(),i.useEffect(()=>{let n=(a,o)=>{ar(!!r?.isTextInput,a,o)&&e(ct())};return Ne.add(n),()=>{Ne.delete(n)}},t)}function ir(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const o=i.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),c=at(o),l=i.useCallback(d=>{const f=V(d.target),h=f?we(f):we();d.target===d.currentTarget&&h===et(d.nativeEvent)&&(r&&r(d),a&&a(!0),c(d))},[a,r,c]);return{focusProps:{onFocus:!t&&(r||a||n)?l:void 0,onBlur:!t&&(n||a)?o:void 0}}}function or(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,o=i.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:l}=rt(),d=i.useCallback(u=>{u.currentTarget.contains(u.target)&&o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,l(),r&&r(u),a&&a(!1))},[r,a,o,l]),f=at(d),h=i.useCallback(u=>{if(!u.currentTarget.contains(u.target))return;const v=V(u.target),g=we(v);if(!o.current.isFocusWithin&&g===et(u.nativeEvent)){n&&n(u),a&&a(!0),o.current.isFocusWithin=!0,f(u);let x=u.currentTarget;c(v,"focus",m=>{if(o.current.isFocusWithin&&!Ze(x,m.target)){let $=new v.defaultView.FocusEvent("blur",{relatedTarget:m.target});Yt($,x);let b=nt($);d(b)}},{capture:!0})}},[n,a,f,c,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:d}}}let Ce=!1,xe=0;function lr(){Ce=!0,setTimeout(()=>{Ce=!1},50)}function We(e){e.pointerType==="touch"&&lr()}function cr(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",We),xe++,()=>{xe--,!(xe>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",We)}}function dt(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[o,c]=i.useState(!1),l=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(cr,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=rt(),{hoverProps:h,triggerHoverEnd:u}=i.useMemo(()=>{let v=(m,$)=>{if(l.pointerType=$,a||$==="touch"||l.isHovered||!m.currentTarget.contains(m.target))return;l.isHovered=!0;let b=m.currentTarget;l.target=b,d(V(m.target),"pointerover",j=>{l.isHovered&&l.target&&!Ze(l.target,j.target)&&g(j,j.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:$}),r&&r(!0),c(!0)},g=(m,$)=>{let b=l.target;l.pointerType="",l.target=null,!($==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,f(),n&&n({type:"hoverend",target:b,pointerType:$}),r&&r(!1),c(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=m=>{Ce&&m.pointerType==="mouse"||v(m,m.pointerType)},x.onPointerLeave=m=>{!a&&m.currentTarget.contains(m.target)&&g(m,m.pointerType)}),{hoverProps:x,triggerHoverEnd:g}},[t,r,n,a,l,d,f]);return i.useEffect(()=>{a&&u({currentTarget:l.target},l.pointerType)},[a]),{hoverProps:h,isHovered:o}}function ut(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=i.useRef({isFocused:!1,isFocusVisible:t||ct()}),[o,c]=i.useState(!1),[l,d]=i.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=i.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),h=i.useCallback(g=>{a.current.isFocused=g,c(g),f()},[f]);sr(g=>{a.current.isFocusVisible=g,f()},[],{isTextInput:r});let{focusProps:u}=ir({isDisabled:n,onFocusChange:h}),{focusWithinProps:v}=or({isDisabled:!n,onFocusWithinChange:h});return{isFocused:o,isFocusVisible:l,focusProps:n?v:u}}var dr=Object.defineProperty,ur=(e,t,r)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ye=(e,t,r)=>(ur(e,typeof t!="symbol"?t+"":t,r),r);let fr=class{constructor(){ye(this,"current",this.detect()),ye(this,"handoffState","pending"),ye(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ft=new fr;function mr(e){var t,r;return ft.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function pr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function mt(){let e=[],t={addEventListener(r,n,a,o){return r.addEventListener(n,a,o),t.add(()=>r.removeEventListener(n,a,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return pr(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=mt();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function hr(){let[e]=i.useState(mt);return i.useEffect(()=>()=>e.dispose(),[e]),e}let oe=(e,t)=>{ft.isServer?i.useEffect(e,t):i.useLayoutEffect(e,t)};function Ae(e){let t=i.useRef(e);return oe(()=>{t.current=e},[e]),t}let I=function(e){let t=Ae(e);return k.useCallback((...r)=>t.current(...r),[t])},gr=i.createContext(void 0);function pe(){return i.useContext(gr)}function ze(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Oe(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oe),n}var br=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(br||{}),vr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(vr||{});function Q(){let e=yr();return i.useCallback(t=>xr({mergeRefs:e,...t}),[e])}function xr({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:o=!0,name:c,mergeRefs:l}){l=l??$r;let d=pt(t,e);if(o)return ue(d,r,n,c,l);let f=a??0;if(f&2){let{static:h=!1,...u}=d;if(h)return ue(u,r,n,c,l)}if(f&1){let{unmount:h=!0,...u}=d;return Oe(h?0:1,{0(){return null},1(){return ue({...u,hidden:!0,style:{display:"none"}},r,n,c,l)}})}return ue(d,r,n,c,l)}function ue(e,t={},r,n,a){let{as:o=r,children:c,refName:l="ref",...d}=$e(e,["unmount","static"]),f=e.ref!==void 0?{[l]:e.ref}:{},h=typeof c=="function"?c(t):c;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let u={};if(t){let v=!1,g=[];for(let[x,m]of Object.entries(t))typeof m=="boolean"&&(v=!0),m===!0&&g.push(x.replace(/([A-Z])/g,$=>`-${$.toLowerCase()}`));if(v){u["data-headlessui-state"]=g.join(" ");for(let x of g)u[`data-${x}`]=""}}if(o===i.Fragment&&(Object.keys(K(d)).length>0||Object.keys(K(u)).length>0))if(!i.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(K(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(K(d)).concat(Object.keys(K(u))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,g=v?.className,x=typeof g=="function"?(...b)=>ze(g(...b),d.className):ze(g,d.className),m=x?{className:x}:{},$=pt(h.props,K($e(d,["ref"])));for(let b in u)b in $&&delete u[b];return i.cloneElement(h,Object.assign({},$,u,f,{ref:a(jr(h),f.ref)},m))}return i.createElement(o,Object.assign({},$e(d,["ref"]),o!==i.Fragment&&f,o!==i.Fragment&&u),h)}function yr(){let e=i.useRef([]),t=i.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function $r(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function pt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var o;return(o=a?.preventDefault)==null?void 0:o.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...o){let c=r[n];for(let l of c){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;l(a,...o)}}});return t}function ht(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let o=r[n];for(let c of o)c?.(...a)}});return t}function Y(e){var t;return Object.assign(i.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function K(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function $e(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function jr(e){return k.version.split(".")[0]>="19"?e.props.ref:e.ref}function Er(e,t,r){let[n,a]=i.useState(r),o=e!==void 0,c=i.useRef(o),l=i.useRef(!1),d=i.useRef(!1);return o&&!c.current&&!l.current?(l.current=!0,c.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&c.current&&!d.current&&(d.current=!0,c.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?e:n,I(f=>(o||a(f),t?.(f)))]}function wr(e){let[t]=i.useState(e);return t}function gt(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))vt(r,bt(t,n),a);return r}function bt(e,t){return e?e+"["+t+"]":t}function vt(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())vt(e,bt(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):gt(r,t,e)}function Nr(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}let kr="span";var Re=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Re||{});function Sr(e,t){var r;let{features:n=1,...a}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Q()({ourProps:o,theirProps:a,slot:{},defaultTag:kr,name:"Hidden"})}let xt=Y(Sr),Cr=i.createContext(null);function Tr({children:e}){let t=i.useContext(Cr);if(!t)return k.createElement(k.Fragment,null,e);let{target:r}=t;return r?Ot.createPortal(k.createElement(k.Fragment,null,e),r):null}function Fr({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[o,c]=i.useState(null),l=hr();return i.useEffect(()=>{if(n&&o)return l.addEventListener(o,"reset",n)},[o,t,n]),k.createElement(Tr,null,k.createElement(Pr,{setForm:c,formId:t}),gt(e).map(([d,f])=>k.createElement(xt,{features:Re.Hidden,...K({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Pr({setForm:e,formId:t}){return i.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:k.createElement(xt,{features:Re.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Lr=i.createContext(void 0);function yt(){return i.useContext(Lr)}function Ar(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function $t(e){return Ar(e)&&"tagName"in e}function he(e){return $t(e)&&"accessKey"in e}function Or(e){return he(e)&&e.nodeName==="INPUT"}function Ue(e){return he(e)&&e.nodeName==="LABEL"}function Rr(e){return he(e)&&e.nodeName==="FIELDSET"}function jt(e){return he(e)&&e.nodeName==="LEGEND"}function Dr(e){return $t(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Et(e){let t=e.parentElement,r=null;for(;t&&!Rr(t);)jt(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Mr(r)?!1:n}function Mr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(jt(t))return!1;t=t.previousElementSibling}return!0}let Ir=Symbol();function le(...e){let t=i.useRef(e);i.useEffect(()=>{t.current=e},[e]);let r=I(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[Ir])?void 0:r}let ge=i.createContext(null);ge.displayName="DescriptionContext";function wt(){let e=i.useContext(ge);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,wt),t}return e}function Hr(){var e,t;return(t=(e=i.useContext(ge))==null?void 0:e.value)!=null?t:void 0}function Nt(){let[e,t]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(r){let n=I(o=>(t(c=>[...c,o]),()=>t(c=>{let l=c.slice(),d=l.indexOf(o);return d!==-1&&l.splice(d,1),l}))),a=i.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return k.createElement(ge.Provider,{value:a},r.children)},[t])]}let Gr="p";function Br(e,t){let r=i.useId(),n=pe(),{id:a=`headlessui-description-${r}`,...o}=e,c=wt(),l=le(t);oe(()=>c.register(a),[a,c.register]);let d=n||!1,f=i.useMemo(()=>({...c.slot,disabled:d}),[c.slot,d]),h={ref:l,...c.props,id:a};return Q()({ourProps:h,theirProps:o,slot:f,defaultTag:Gr,name:c.name||"Description"})}let Vr=Y(Br),_r=Object.assign(Vr,{});var W=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(W||{});let be=i.createContext(null);be.displayName="LabelContext";function kt(){let e=i.useContext(be);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,kt),t}return e}function St(e){var t,r,n;let a=(r=(t=i.useContext(be))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function Ct({inherit:e=!1}={}){let t=St(),[r,n]=i.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,i.useMemo(()=>function(o){let c=I(d=>(n(f=>[...f,d]),()=>n(f=>{let h=f.slice(),u=h.indexOf(d);return u!==-1&&h.splice(u,1),h}))),l=i.useMemo(()=>({register:c,slot:o.slot,name:o.name,props:o.props,value:o.value}),[c,o.slot,o.name,o.props,o.value]);return k.createElement(be.Provider,{value:l},o.children)},[n])]}let Kr="label";function Wr(e,t){var r;let n=i.useId(),a=kt(),o=yt(),c=pe(),{id:l=`headlessui-label-${n}`,htmlFor:d=o??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...h}=e,u=le(t);oe(()=>a.register(l),[l,a.register]);let v=I($=>{let b=$.currentTarget;if(!($.target!==$.currentTarget&&Dr($.target))&&(Ue(b)&&$.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick($),Ue(b))){let j=document.getElementById(b.htmlFor);if(j){let S=j.getAttribute("disabled");if(S==="true"||S==="")return;let y=j.getAttribute("aria-disabled");if(y==="true"||y==="")return;(Or(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),g=c||!1,x=i.useMemo(()=>({...a.slot,disabled:g}),[a.slot,g]),m={ref:u,...a.props,id:l,htmlFor:d,onClick:v};return f&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in h&&delete h.onClick),Q()({ourProps:m,theirProps:h,slot:x,defaultTag:d?Kr:"div",name:a.name||"Label"})}let zr=Y(Wr),Ur=Object.assign(zr,{});function qr(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Jr(e=qr){return i.useCallback((t,r)=>{if(typeof e=="string"){let n=e;return t?.[n]===r?.[n]}return e(t,r)},[e])}let Xr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Qr=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ae=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ae||{}),Te=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Te||{}),Yr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Yr||{});function Zr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xr)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function en(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qr)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var tn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(tn||{}),rn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(rn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let nn=["textarea","input"].join(",");function an(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,nn))!=null?r:!1}function Tt(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),o=t(n);if(a===null||o===null)return 0;let c=a.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qe(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?r?Tt(e):e:t&64?en(e):Zr(e);a.length>0&&c.length>1&&(c=c.filter(g=>!a.some(x=>x!=null&&"current"in x?x?.current===g:x===g))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(n))-1;if(t&4)return Math.max(0,c.indexOf(n))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,u=c.length,v;do{if(h>=u||h+u<=0)return 0;let g=d+h;if(t&16)g=(g+u)%u;else{if(g<0)return 3;if(g>=u)return 1}v=c[g],v?.focus(f),h+=l}while(v!==o.activeElement);return t&6&&an(v)&&v.select(),2}var sn=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(sn||{});let on={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Tt(r,n=>n.element.current)}},1(e,t){let r=e.options.slice(),n=e.options.findIndex(a=>a.id===t.id);return n===-1?e:(r.splice(n,1),{...e,options:r})}},De=i.createContext(null);De.displayName="RadioGroupDataContext";function Me(e){let t=i.useContext(De);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Me),r}return t}let Ie=i.createContext(null);Ie.displayName="RadioGroupActionsContext";function He(e){let t=i.useContext(Ie);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,He),r}return t}function ln(e,t){return Oe(t.type,on,e,t)}let cn="div";function dn(e,t){let r=i.useId(),n=pe(),{id:a=`headlessui-radiogroup-${r}`,value:o,form:c,name:l,onChange:d,by:f,disabled:h=n||!1,defaultValue:u,tabIndex:v=0,...g}=e,x=Jr(f),[m,$]=i.useReducer(ln,{options:[]}),b=m.options,[j,S]=Ct(),[y,E]=Nt(),P=i.useRef(null),T=le(P,t),w=wr(u),[L,D]=Er(o,d,w),M=i.useMemo(()=>b.find(C=>!C.propsRef.current.disabled),[b]),A=i.useMemo(()=>b.some(C=>x(C.propsRef.current.value,L)),[b,L]),p=I(C=>{var Z;if(h||x(C,L))return!1;let H=(Z=b.find(ce=>x(ce.propsRef.current.value,C)))==null?void 0:Z.propsRef.current;return H!=null&&H.disabled?!1:(D?.(C),!0)}),F=I(C=>{let Z=P.current;if(!Z)return;let H=mr(Z),ce=b.filter(R=>R.propsRef.current.disabled===!1).map(R=>R.element.current);switch(C.key){case W.Enter:Nr(C.currentTarget);break;case W.ArrowLeft:case W.ArrowUp:if(C.preventDefault(),C.stopPropagation(),qe(ce,ae.Previous|ae.WrapAround)===Te.Success){let R=b.find(ee=>ee.element.current===H?.activeElement);R&&p(R.propsRef.current.value)}break;case W.ArrowRight:case W.ArrowDown:if(C.preventDefault(),C.stopPropagation(),qe(ce,ae.Next|ae.WrapAround)===Te.Success){let R=b.find(ee=>ee.element.current===H?.activeElement);R&&p(R.propsRef.current.value)}break;case W.Space:{C.preventDefault(),C.stopPropagation();let R=b.find(ee=>ee.element.current===H?.activeElement);R&&p(R.propsRef.current.value)}break}}),N=I(C=>($({type:0,...C}),()=>$({type:1,id:C.id}))),B=i.useMemo(()=>({value:L,firstOption:M,containsCheckedOption:A,disabled:h,compare:x,tabIndex:v,...m}),[L,M,A,h,x,v,m]),_=i.useMemo(()=>({registerOption:N,change:p}),[N,p]),q={ref:T,id:a,role:"radiogroup","aria-labelledby":j,"aria-describedby":y,onKeyDown:F},Pt=i.useMemo(()=>({value:L}),[L]),Lt=i.useCallback(()=>{if(w!==void 0)return p(w)},[p,w]),At=Q();return k.createElement(E,{name:"RadioGroup.Description"},k.createElement(S,{name:"RadioGroup.Label"},k.createElement(Ie.Provider,{value:_},k.createElement(De.Provider,{value:B},l!=null&&k.createElement(Fr,{disabled:h,data:{[l]:L||"on"},overrides:{type:"radio",checked:L!=null},form:c,onReset:Lt}),At({ourProps:q,theirProps:g,slot:Pt,defaultTag:cn,name:"RadioGroup"})))))}let un="div";function fn(e,t){var r;let n=Me("RadioGroup.Option"),a=He("RadioGroup.Option"),o=i.useId(),{id:c=`headlessui-radiogroup-option-${o}`,value:l,disabled:d=n.disabled||!1,autoFocus:f=!1,...h}=e,u=i.useRef(null),v=le(u,t),[g,x]=Ct(),[m,$]=Nt(),b=Ae({value:l,disabled:d});oe(()=>a.registerOption({id:c,element:u,propsRef:b}),[c,a,u,b]);let j=I(A=>{var p;if(Et(A.currentTarget))return A.preventDefault();a.change(l)&&((p=u.current)==null||p.focus())}),S=((r=n.firstOption)==null?void 0:r.id)===c,{isFocusVisible:y,focusProps:E}=ut({autoFocus:f}),{isHovered:P,hoverProps:T}=dt({isDisabled:d}),w=n.compare(n.value,l),L=ht({ref:v,id:c,role:"radio","aria-checked":w?"true":"false","aria-labelledby":g,"aria-describedby":m,"aria-disabled":d?!0:void 0,tabIndex:d?-1:w||!n.containsCheckedOption&&S?n.tabIndex:-1,onClick:d?void 0:j,autoFocus:f},E,T),D=i.useMemo(()=>({checked:w,disabled:d,active:y,hover:P,focus:y,autofocus:f}),[w,d,P,y,f]),M=Q();return k.createElement($,{name:"RadioGroup.Description"},k.createElement(x,{name:"RadioGroup.Label"},M({ourProps:L,theirProps:h,slot:D,defaultTag:un,name:"RadioGroup.Option"})))}let mn="span";function pn(e,t){var r;let n=Me("Radio"),a=He("Radio"),o=i.useId(),c=yt(),l=pe(),{id:d=c||`headlessui-radio-${o}`,value:f,disabled:h=n.disabled||l||!1,autoFocus:u=!1,...v}=e,g=i.useRef(null),x=le(g,t),m=St(),$=Hr(),b=Ae({value:f,disabled:h});oe(()=>a.registerOption({id:d,element:g,propsRef:b}),[d,a,g,b]);let j=I(M=>{var A;if(Et(M.currentTarget))return M.preventDefault();a.change(f)&&((A=g.current)==null||A.focus())}),{isFocusVisible:S,focusProps:y}=ut({autoFocus:u}),{isHovered:E,hoverProps:P}=dt({isDisabled:h}),T=((r=n.firstOption)==null?void 0:r.id)===d,w=n.compare(n.value,f),L=ht({ref:x,id:d,role:"radio","aria-checked":w?"true":"false","aria-labelledby":m,"aria-describedby":$,"aria-disabled":h?!0:void 0,tabIndex:h?-1:w||!n.containsCheckedOption&&T?n.tabIndex:-1,autoFocus:u,onClick:h?void 0:j},y,P),D=i.useMemo(()=>({checked:w,disabled:h,hover:E,focus:S,autofocus:u}),[w,h,E,S,u]);return Q()({ourProps:L,theirProps:v,slot:D,defaultTag:mn,name:"Radio"})}let hn=Y(dn),gn=Y(fn),bn=Y(pn),vn=Ur,xn=_r,me=Object.assign(hn,{Option:gn,Radio:bn,Label:vn,Description:xn});function yn(){const[e,t]=i.useState(!1),r="SB-Mid-client-QgvVBJ-CMy3Eatzp";return i.useEffect(()=>{if(window.snap){t(!0);return}const n=document.createElement("script");return n.src="https://app.sandbox.midtrans.com/snap/snap.js",n.setAttribute("data-client-key",r),n.async=!0,n.onload=()=>t(!0),n.onerror=()=>console.error("Failed to load Midtrans Snap.js"),document.body.appendChild(n),()=>{document.body.removeChild(n)}},[r]),{isLoaded:e}}const $n={getShippingCost:e=>{const{destinationCity:t,weight:r=1e3,...n}=e;return te.post("/shipping/calculate",{city:t,weight:r,...n})},getProvinces:()=>te.get("/shipping/provinces"),getCities:e=>te.get(`/shipping/cities/${e}`),validateAddress:e=>te.post("/shipping/validate-address",{address:e}),checkFreeShipping:e=>te.get("/shipping/check-free-shipping",{params:{city:e}})},O={formatPrice:e=>e===0?"GRATIS":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),getDeliveryEstimate:e=>{const t=new Date,r=e.match(/\d+/g);if(!r||r.length===0)return{min:new Date(t.getTime()+2880*60*1e3),max:new Date(t.getTime()+4320*60*1e3)};const n=parseInt(r[0]),a=r.length>1?parseInt(r[1]):n;return{min:new Date(t.getTime()+n*24*60*60*1e3),max:new Date(t.getTime()+a*24*60*60*1e3)}},isLikelyJabodetabek:e=>{if(!e)return!1;const t=["jakarta","bogor","depok","tangerang","bekasi","dki jakarta","tangsel","tangerang selatan"],r=e.toLowerCase();return t.some(n=>r.includes(n)||n.includes(r))},isValidPostalCode:e=>/^\d{5}$/.test(e),isValidPhoneNumber:e=>{const t=e.replace(/[\s-]/g,"");return/^(\+62|62|0)[0-9]{9,13}$/.test(t)}},Ft=i.memo(({shippingAddress:e,onShippingCostChange:t,cartWeight:r=1e3,onAddressChange:n})=>{const[a,o]=i.useState([]),[c,l]=i.useState(null),[d,f]=i.useState(!1),[h,u]=i.useState(!1),[v,g]=i.useState(null),{toast:x}=Je(),m={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,staggerChildren:.1}}},$={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0}},b=i.useCallback(async()=>{if(!e.city||e.city.length<3){o([]),l(null),t(0,"REG");return}f(!0),g(null);try{const E=(await $n.getShippingCost({destinationCity:e.city,weight:r})).data.data,{destination:P,isJabodetabek:T,shippingCost:w,courier:L,service:D,etd:M}=E,A={service:D||"REG",description:`${L||"Standard"} ${D||"Regular"}`,cost:w,etd:M||"2-3 hari kerja",isFree:w===0};o([A]),u(T),l(A),t(A.cost,A.service),T&&w===0&&x({title:"Gratis Ongkir! ðŸŽ‰",description:"Gratis ongkir untuk wilayah Jabodetabek",duration:3e3})}catch(y){console.error("Shipping calculation failed:",y),g("Gagal menghitung ongkir. Silakan coba lagi.");const E=O.isLikelyJabodetabek(e.city),P=E?0:15e3;o([{service:"REG",description:E?"Gratis Ongkir":"Regular Service",cost:P,etd:"2-3 hari kerja",isFree:E}]),l({service:"REG",cost:P}),t(P,"REG")}finally{f(!1)}},[e.city,r,t,x]);i.useEffect(()=>{const y=setTimeout(()=>{b()},800);return()=>clearTimeout(y)},[b]);const j=y=>{l(y),t(y.cost,y.service)},S=()=>{b()};return s.jsxs(G.div,{className:"space-y-4",variants:m,initial:"hidden",animate:"visible",children:[s.jsxs(G.div,{className:"space-y-2",variants:$,children:[s.jsx(Xe,{htmlFor:"city",className:"text-sm font-medium",children:"Kota/Kabupaten *"}),s.jsxs("div",{className:"relative",children:[s.jsx(J,{id:"city",value:e.city||"",onChange:y=>n("city",y.target.value),placeholder:"Contoh: Jakarta Pusat, Bogor, Tangerang",className:"pr-10",required:!0}),d&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Ge,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),!e.city&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Jakarta Pusat","Bogor","Depok","Tangerang","Bekasi","Bandung","Surabaya"].map(y=>s.jsx("button",{type:"button",onClick:()=>n("city",y),className:"px-3 py-1 text-xs bg-accent/10 text-accent rounded-full hover:bg-accent/20 transition-colors",children:y},y))})]}),s.jsx(de,{children:h&&s.jsxs(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl",children:[s.jsx(Bt,{className:"text-green-600 flex-shrink-0",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-green-800",children:"ðŸŽ‰ Gratis Ongkir untuk wilayah Jabodetabek!"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Hemat biaya pengiriman khusus untuk wilayah Jakarta, Bogor, Depok, Tangerang, dan Bekasi"})]})]})}),s.jsx(de,{children:v&&s.jsxs(G.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Ht,{className:"text-red-600 flex-shrink-0",size:18}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-red-800",children:v})}),s.jsx(je,{type:"button",variant:"outline",size:"sm",onClick:S,className:"text-red-600 border-red-200 hover:bg-red-100",children:"Coba Lagi"})]})}),s.jsx(de,{children:a.length>0&&s.jsxs(G.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{size:18,className:"text-accent"}),s.jsx("h4",{className:"font-medium text-foreground",children:"Pilih Kurir"})]}),s.jsx(me,{value:c,onChange:j,className:"space-y-2",children:a.map((y,E)=>{const P=O.getDeliveryEstimate(y.etd);return s.jsx(me.Option,{value:y,children:({checked:T})=>s.jsx(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`rounded-xl border p-4 cursor-pointer transition-all duration-200 ${T?"border-accent bg-accent/5 shadow-lg shadow-accent/10":"border-border hover:border-accent/50 hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-semibold text-foreground",children:y.service}),y.isFree&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:"GRATIS"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.description}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Estimasi: ",y.etd]}),s.jsx("span",{className:"hidden sm:inline",children:"â€¢"}),s.jsxs("span",{children:["Tiba: ",P.min.toLocaleDateString("id-ID",{day:"numeric",month:"short"})," - ",P.max.toLocaleDateString("id-ID",{day:"numeric",month:"short"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-lg",children:O.formatPrice(y.cost)})}),T&&s.jsx(Qe,{className:"text-accent flex-shrink-0",size:20})]})]})})},E)})})]})}),s.jsx(de,{children:d&&a.length===0&&s.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6",children:s.jsxs("div",{className:"inline-flex items-center gap-3 text-muted-foreground",children:[s.jsx(Ge,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"text-sm",children:"Menghitung ongkir..."})]})})}),r>0&&s.jsx(G.div,{variants:$,className:"text-xs text-muted-foreground bg-muted/30 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Berat total pesanan:"}),s.jsxs("span",{className:"font-medium",children:[(r/1e3).toFixed(1)," kg"]})]})})]})});Ft.displayName="ShippingCalculator";const jn={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},re=i.memo(({id:e,label:t,tooltip:r,children:n,...a})=>s.jsxs("div",{className:"space-y-2 relative group",children:[s.jsxs(Xe,{htmlFor:e,className:"text-sm font-medium text-foreground/80 flex items-center gap-1",children:[t,r&&s.jsx(Vt,{size:14,className:"text-muted-foreground group-hover:text-foreground transition duration-300",title:r})]}),n||s.jsx(J,{id:e,...a,className:`bg-card/60 border border-border focus:border-accent focus:ring-2 focus:ring-accent/40 \r
                     text-foreground transition duration-300 rounded-xl py-3 w-full`})]})),En=i.memo(({item:e})=>{const[t,r]=i.useState(!1);return s.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg bg-card/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:e.images?.[0]?.url||"/placeholder.svg",alt:e.name,className:`w-full h-full object-cover transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>r(!0),loading:"lazy"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:e.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Size ",e.size," â€¢ Qty ",e.quantity]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",O.formatPrice(e.price)]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-mono font-semibold text-sm",children:O.formatPrice(e.price*e.quantity)})})]})}),ne=i.memo(({label:e,value:t,className:r="",highlight:n=!1})=>s.jsxs("div",{className:`flex justify-between items-center ${r} ${n?"text-lg font-bold":"text-sm"}`,children:[s.jsx("span",{className:n?"text-foreground":"text-muted-foreground",children:e}),s.jsx("span",{className:`font-mono ${n?"text-accent font-bold":"text-foreground"}`,children:t})]})),On=()=>{const{isLoaded:e}=yn(),t=Rt(),r=Dt(),{toast:n}=Je(),a=ve(i.useCallback(p=>p.auth.user,[])),o=ve(i.useCallback(p=>p.cart.cartItems,[])),c=ve(i.useCallback(p=>p.orders.status,[])),[l,d]=i.useState("shipping"),[f,h]=i.useState("va"),[u,v]=i.useState(0),[g,x]=i.useState("REG"),[m,$]=i.useState({street:"",city:"",province:"",postalCode:"",country:"Indonesia",phone:""}),[b,j]=i.useState({isValid:!1,errors:[]}),S=i.useRef(!1),y=i.useMemo(()=>o.reduce((p,F)=>{const N=F.weight||300;return p+N*F.quantity},0),[o]),E=i.useMemo(()=>{const p=o.reduce((_,q)=>_+q.price*q.quantity,0),F=f==="cod"?2500:0,N=f==="va"?3e3:0,B=p+u+F-N;return{subtotal:p,shippingFee:u,adminFee:F,discount:N,total:B,savings:u===0?15e3:0}},[o,f,u]),P=i.useMemo(()=>[{id:"va",name:"Pembayaran Online",desc:"Virtual Account, E-Wallet, Credit Card",icon:_e,recommended:!0},{id:"cod",name:`Cash On Delivery (+${O.formatPrice(E.adminFee)})`,desc:"Bayar saat barang diterima",icon:Gt,fee:E.adminFee}],[E.adminFee]),T=i.useCallback(()=>{const p=[];return(!m.street||m.street.trim().length<10)&&p.push("Alamat lengkap minimal 10 karakter"),(!m.city||m.city.trim().length<3)&&p.push("Nama kota/kabupaten harus diisi"),(!m.postalCode||!O.isValidPostalCode(m.postalCode))&&p.push("Kode pos harus 5 digit angka"),(!m.phone||!O.isValidPhoneNumber(m.phone))&&p.push("Nomor telepon tidak valid"),j({isValid:p.length===0,errors:p}),p.length===0},[m]),w=i.useCallback((p,F)=>{$(N=>({...N,[p]:F}))},[]),L=i.useCallback((p,F)=>{v(p),x(F)},[]),D=i.useCallback(()=>{if(!T()){n({variant:"destructive",title:"Alamat tidak lengkap",description:"Mohon lengkapi dan periksa kembali alamat pengiriman Anda"});return}if(u===0&&!O.isLikelyJabodetabek(m.city)){n({variant:"destructive",title:"Ongkir belum dihitung",description:"Silakan tunggu perhitungan ongkir selesai"});return}d("payment")},[m,u,T,n]),M=i.useCallback(()=>{d("shipping")},[]),A=i.useCallback(async p=>{if(p.preventDefault(),!T()){n({variant:"destructive",title:"Alamat tidak valid",description:"Mohon periksa kembali alamat pengiriman Anda"});return}const F={items:o.map(N=>({product:N._id,quantity:N.quantity,size:N.size})),shippingAddress:{...m,fullName:a.name},paymentMethod:f,shippingCost:u,selectedShippingService:g,notes:""};S.current=!0;try{const N=await t(Mt(F)).unwrap(),B=N.data||N;if(!B||!B.order||!B.order.orderId)throw console.error("Invalid order response:",N),new Error("Order creation failed - missing order data");const _=B.order.orderId;f==="va"?e&&window.snap&&N.payment?.snapToken?window.snap.pay(N.payment.snapToken,{onSuccess:()=>{console.log("Midtrans onSuccess triggered, navigating to profile"),n({title:"Pembayaran Berhasil! ðŸŽ‰",description:`Order #${_} telah dibayar`}),t(Be()),t(Ve()),r("/profile",{state:{activeView:"orders"}}),S.current=!1},onPending:()=>{n({title:"Pembayaran Pending â³",description:`Order #${_} menunggu pembayaran`}),r("/profile",{state:{activeView:"orders"}}),S.current=!1},onError:q=>{n({variant:"destructive",title:"Pembayaran Gagal",description:q.message||"Terjadi kesalahan dalam pembayaran"}),S.current=!1},onClose:()=>{n({title:"Pembayaran Dibatalkan",description:"Anda menutup halaman pembayaran."})}}):n({variant:"destructive",title:"Error",description:"Sistem pembayaran belum siap. Silakan coba lagi."}):(console.log("COD payment, navigating to profile"),n({title:"Order Berhasil Dibuat! ðŸŽ‰",description:`Order #${_} akan segera diproses`}),t(Be()),t(Ve()),r("/profile",{state:{activeView:"orders"}}),S.current=!1)}catch(N){console.error("Order creation failed:",N),n({variant:"destructive",title:"Gagal membuat pesanan",description:N.message||"Terjadi kesalahan saat membuat pesanan. Silakan coba lagi."}),S.current=!1}},[o,m,a.name,f,u,g,e,t,n,r,T]);return i.useEffect(()=>{o.length===0&&!S.current&&r("/cart")},[]),i.useEffect(()=>{l==="shipping"&&T()},[m,l,T]),s.jsxs("div",{className:"relative min-h-screen px-4 pt-24 pb-20 sm:px-6 lg:px-10 font-sans text-foreground",children:[s.jsxs(It,{children:[s.jsx("title",{children:"Checkout - Radiant Rage"}),s.jsx("meta",{name:"description",content:"Selesaikan pembelian Anda dengan aman dan mudah"})]}),s.jsx("div",{className:"absolute -top-24 -left-20 w-72 h-72 bg-accent/25 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-28 -right-20 w-96 h-96 bg-secondary/30 rounded-full blur-3xl"}),s.jsxs(G.div,{variants:jn,initial:"hidden",animate:"show",className:"relative z-10 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-heading font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:"Checkout"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Selesaikan pembelian Anda dengan aman"}),s.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 ${l==="shipping"?"text-accent":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${l==="shipping"?"border-accent bg-accent text-white":"border-muted-foreground"}`,children:"1"}),s.jsx("span",{className:"text-sm font-medium",children:"Alamat"})]}),s.jsx("div",{className:"w-8 h-0.5 bg-border"}),s.jsxs("div",{className:`flex items-center space-x-2 ${l==="payment"?"text-accent":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${l==="payment"?"border-accent bg-accent text-white":"border-muted-foreground"}`,children:"2"}),s.jsx("span",{className:"text-sm font-medium",children:"Pembayaran"})]})]})]}),s.jsxs("form",{onSubmit:A,className:"flex flex-col lg:grid lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"glass-card p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Ee,{size:20,className:"text-accent"}),"Alamat Pengiriman"]}),l!=="shipping"&&s.jsx("button",{type:"button",onClick:M,className:"text-sm text-accent hover:text-accent/80 transition duration-300 font-medium",children:"Edit"})]}),l==="shipping"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(re,{id:"fullName",label:"Nama Lengkap",children:s.jsx(J,{id:"fullName",defaultValue:a?.name,readOnly:!0,className:"bg-muted/50"})}),s.jsx(re,{id:"email",label:"Email",children:s.jsx(J,{id:"email",defaultValue:a?.email,readOnly:!0,className:"bg-muted/50"})})]}),s.jsx(re,{id:"phone",label:"No. Telepon",tooltip:"Format: 08xxxxxxxxxx atau +62xxxxxxxxxx",children:s.jsx(J,{id:"phone",value:m.phone,onChange:p=>w("phone",p.target.value),placeholder:"08xxxxxxxxxx",required:!0,className:b.errors.some(p=>p.includes("telepon"))?"border-red-500":""})}),s.jsx(re,{id:"street",label:"Alamat Lengkap",children:s.jsx("textarea",{id:"street",value:m.street,onChange:p=>w("street",p.target.value),placeholder:"Jalan, No. Rumah, RT/RW, Kelurahan, Kecamatan",className:`w-full p-3 border rounded-xl bg-card/60 min-h-[80px] resize-none transition duration-300 focus:border-accent focus:ring-2 focus:ring-accent/40 ${b.errors.some(p=>p.includes("Alamat"))?"border-red-500":"border-border"}`,required:!0})}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:s.jsx(re,{id:"postalCode",label:"Kode Pos",tooltip:"5 digit kode pos Indonesia",children:s.jsx(J,{id:"postalCode",value:m.postalCode,onChange:p=>w("postalCode",p.target.value),placeholder:"12345",maxLength:5,required:!0,className:b.errors.some(p=>p.includes("Kode pos"))?"border-red-500":""})})}),s.jsx(Ft,{shippingAddress:m,onShippingCostChange:L,cartWeight:y,onAddressChange:w}),b.errors.length>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Perhatian:"}),s.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:b.errors.map((p,F)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1 h-1 bg-red-600 rounded-full"}),p]},F))})]}),s.jsx("div",{className:"mt-6",children:s.jsx(je,{type:"button",onClick:D,disabled:!b.isValid,className:"w-full rounded-full font-bold btn-primary py-3 disabled:opacity-50",children:"Lanjut ke Pembayaran"})})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-start gap-3 p-4 bg-muted/30 rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:a?.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a?.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.phone})]})}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-sm",children:m.street}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.city,", ",m.postalCode]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[s.jsx(Ee,{size:16,className:"text-accent"}),s.jsxs("span",{className:"text-sm font-medium text-accent",children:[g," - ",O.formatPrice(u)]}),u===0&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"GRATIS"})]})]})]}),s.jsxs("div",{className:"glass-card p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[s.jsx(_e,{size:20,className:"text-accent"}),"Metode Pembayaran"]}),l==="payment"&&s.jsx(me,{value:f,onChange:h,className:"space-y-3",children:P.map(p=>s.jsx(me.Option,{value:p.id,children:({checked:F})=>s.jsxs("div",{className:`rounded-xl border px-6 py-4 transition duration-300 cursor-pointer relative ${F?"border-accent ring-2 ring-accent/50 bg-accent/5":"border-border hover:border-accent/40 hover:bg-accent/5"}`,children:[p.recommended&&s.jsx("span",{className:"absolute -top-2 left-4 px-2 py-1 text-xs font-medium bg-accent text-white rounded-full",children:"Direkomendasikan"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p.icon,{size:20,className:"text-foreground/70"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:p.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.desc})]})]}),F&&s.jsx(Qe,{className:"text-accent",size:20})]})]})},p.id))})]})]}),s.jsx("div",{className:"lg:col-span-2 lg:sticky lg:top-24 self-start",children:s.jsxs("div",{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Ringkasan Pesanan"}),s.jsx("div",{className:"space-y-3 mb-6",children:o.map(p=>s.jsx(En,{item:p},`${p._id}-${p.size}`))}),s.jsx("div",{className:"border-t border-border my-6"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{label:"Subtotal",value:O.formatPrice(E.subtotal)}),s.jsx(ne,{label:`Ongkir (${g})`,value:u===0?"GRATIS":O.formatPrice(E.shippingFee),className:u===0?"text-green-600":""}),E.savings>0&&s.jsx(ne,{label:"Hemat ongkir",value:`-${O.formatPrice(E.savings)}`,className:"text-green-600"}),f==="cod"&&E.adminFee>0&&s.jsx(ne,{label:"Biaya Admin COD",value:O.formatPrice(E.adminFee)})]}),s.jsx("div",{className:"border-t border-border my-6"}),s.jsx(ne,{label:"Total",value:O.formatPrice(E.total),highlight:!0}),s.jsxs(je,{type:"submit",size:"lg",disabled:l!=="payment"||c==="loading"||!b.isValid,className:"w-full mt-6 rounded-full font-bold btn-primary py-4 disabled:opacity-50 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),s.jsx(Ke,{size:18,className:"mr-2"}),c==="loading"?"Memproses...":f==="cod"?"Buat Pesanan":"Bayar Sekarang"]}),f==="va"&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-3",children:"Anda akan diarahkan ke halaman pembayaran yang aman"}),s.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[s.jsx(Ke,{size:12}),s.jsx("span",{children:"SSL Secure"})]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pembayaran Aman"})]})]})})]})]})]})};export{On as default};
