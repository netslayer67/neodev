const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProductCard-BGin-3Vu.js","assets/index-BAkzQYrJ.js","assets/index-CYqOk6il.css","assets/heart-C0WQOpVi.js","assets/eye-52CffNl0.js"])))=>i.map(i=>d[i]);
import{u as T,r as t,b as j,a as M,j as e,m,c as v,f as R,_ as S,d as k}from"./index-BAkzQYrJ.js";const w=t.lazy(()=>S(()=>import("./ProductCard-BGin-3Vu.js"),__vite__mapDeps([0,1,2,3,4]))),h=768,b=1024,C=8,D=16,A=200,L="200px",O=(()=>{const s=new Map,i=100;return r=>{if(typeof r!="string")return"";if(s.has(r))return s.get(r);const a=r.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").trim().slice(0,100);if(s.size>=i){const l=s.keys().next().value;s.delete(l)}return s.set(r,a),a}})(),z=()=>{const[s,i]=t.useState(()=>{if(typeof window>"u")return{isMobile:!1,isTablet:!1,isDesktop:!0};const a=window.innerWidth;return{isMobile:a<h,isTablet:a>=h&&a<b,isDesktop:a>=b}}),r=t.useRef(null);return t.useEffect(()=>{const a=()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{const l=window.innerWidth,o={isMobile:l<h,isTablet:l>=h&&l<b,isDesktop:l>=b};i(x=>x.isMobile!==o.isMobile||x.isTablet!==o.isTablet||x.isDesktop!==o.isDesktop?o:x)},A)};return window.addEventListener("resize",a,{passive:!0}),()=>{window.removeEventListener("resize",a),r.current&&clearTimeout(r.current)}},[]),s},B=t.memo(()=>j()?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-32 -left-32 w-80 h-80 bg-gradient-to-br from-accent/15 to-info/8 rounded-full blur-3xl opacity-60"}),e.jsx("div",{className:"absolute top-1/3 -right-24 w-72 h-72 bg-gradient-to-br from-secondary/12 to-warning/8 rounded-full blur-3xl opacity-60"}),e.jsx("div",{className:"absolute -bottom-40 left-1/4 w-96 h-96 bg-gradient-to-br from-success/8 to-accent/8 rounded-full blur-3xl opacity-60"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m.div,{animate:{x:[0,40,0],y:[0,-20,0]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute -top-32 -left-32 w-80 h-80 bg-gradient-to-br from-accent/15 to-info/8 rounded-full blur-3xl",style:{willChange:"transform"}}),e.jsx(m.div,{animate:{x:[0,-30,0],y:[0,25,0]},transition:{duration:35,repeat:1/0,ease:"linear",delay:10},className:"absolute top-1/3 -right-24 w-72 h-72 bg-gradient-to-br from-secondary/12 to-warning/8 rounded-full blur-3xl",style:{willChange:"transform"}}),e.jsx(m.div,{animate:{x:[0,25,0],y:[0,-15,0]},transition:{duration:40,repeat:1/0,ease:"linear",delay:20},className:"absolute -bottom-40 left-1/4 w-96 h-96 bg-gradient-to-br from-success/8 to-accent/8 rounded-full blur-3xl",style:{willChange:"transform"}})]})),K=t.memo(()=>{const s=j();return e.jsx("section",{className:"relative pt-20 pb-8 px-4 sm:px-6 lg:px-8",children:e.jsxs(m.div,{initial:s?{opacity:1}:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"max-w-6xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-2 rounded-full bg-accent/10 border border-accent/20 backdrop-blur-xl",children:[e.jsx(k,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-xs font-medium text-accent uppercase tracking-wider",children:"Authenticated Luxury"})]}),e.jsx("h1",{className:"font-heading text-4xl sm:text-5xl lg:text-7xl tracking-tight mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-foreground via-accent to-secondary bg-clip-text text-transparent",children:"Curated for Icons"})}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-md mx-auto mb-6 leading-relaxed",children:"Exclusive pieces for those who demand excellence"}),e.jsxs(m.div,{initial:s?{scale:1}:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.3},className:"flex justify-center items-center gap-2",children:[[...Array(5)].map((i,r)=>e.jsx(v,{className:"w-4 h-4 text-warning fill-warning"},r)),e.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"Premium Certified"})]})]})})}),G=t.memo(({itemCount:s,gridClasses:i})=>e.jsx("div",{className:i,children:Array.from({length:s},(r,a)=>e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"aspect-[4/5] bg-muted/20 rounded-2xl animate-pulse"}),children:e.jsx(w,{loading:!0,index:a})},`skeleton-${a}`))}));function H(){const s=T(),[i,r]=t.useState(1),[a,l]=t.useState(""),[o,x]=t.useState(!0),f=t.useRef(null),y=z(),E=j(),{items:d,pagination:g,status:c,error:P}=M(n=>n.products),p=t.useMemo(()=>{const{isMobile:n,isTablet:u}=y;return{itemsPerPage:n?C:D,gridClasses:n?"grid grid-cols-2 gap-4":u?"grid grid-cols-3 gap-5":"grid grid-cols-4 gap-6",skeletonCount:n?6:u?9:12}},[y]);t.useEffect(()=>{(()=>{t.startTransition(()=>{s(R({page:i,limit:p.itemsPerPage,search:O(a)}))})})(),o&&x(!1)},[s,i,a,p.itemsPerPage,o]);const N=t.useCallback(n=>{c!=="loading"&&(f.current&&f.current.disconnect(),f.current=new IntersectionObserver(u=>{u[0].isIntersecting&&g?.currentPage<g?.totalPages&&c==="succeeded"&&t.startTransition(()=>{r(_=>_+1)})},{threshold:.1,rootMargin:L}),n&&f.current.observe(n))},[c,g]);t.useEffect(()=>()=>{f.current&&f.current.disconnect()},[]);const I=t.useMemo(()=>d?.length?d.map((n,u)=>e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"aspect-[4/5] bg-muted/20 rounded-2xl animate-pulse"}),children:e.jsx(w,{product:n,index:u,ref:u===d.length-1?N:null})},n._id)):[],[d,N]);return P?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-heading mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please try refreshing the page"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Refresh Page"})]})}):e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-background via-background to-card/20 text-foreground overflow-hidden",children:[e.jsx(B,{}),e.jsx(K,{}),e.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[c==="loading"&&o&&e.jsx(G,{itemCount:p.skeletonCount,gridClasses:p.gridClasses}),c!=="loading"&&d?.length>0&&e.jsx(m.div,{className:p.gridClasses,initial:E?{}:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:I}),c==="succeeded"&&d?.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h3",{className:"text-xl font-heading mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria"})]}),c==="loading"&&!o&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading more products..."})]})}),c==="succeeded"&&g?.currentPage>=g?.totalPages&&d?.length>0&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center mt-16 mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-card/50 to-card/30 backdrop-blur-md border border-border/40 rounded-full",children:[e.jsx(v,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"You've explored our entire curated collection"})]})})]})})]})}export{H as default};
